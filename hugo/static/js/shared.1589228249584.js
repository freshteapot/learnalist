var superstore=function(t){"use strict";function n(){}const e=[];const o={level:"",message:""},s=JSON.parse(JSON.stringify(o));let i=JSON.parse(JSON.stringify(o));const c=(l="app.notifications",a=null,localStorage.hasOwnProperty(l)?JSON.parse(localStorage.getItem(l)):a);var l,a;null!==c&&(i=c);const{subscribe:r,update:u,set:f}=function(t,o=n){let s;const i=[];function c(n){if(c=n,((o=t)!=o?c==c:o!==c||o&&"object"==typeof o||"function"==typeof o)&&(t=n,s)){const n=!e.length;for(let n=0;n<i.length;n+=1){const o=i[n];o[1](),e.push(o,t)}if(n){for(let t=0;t<e.length;t+=2)e[t][0](e[t+1]);e.length=0}}var o,c}return{set:c,update:function(n){c(n(t))},subscribe:function(e,l=n){const a=[e,l];return i.push(a),1===i.length&&(s=o(c)||n),e(t),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(s(),s=null)}}}}(i);const p={subscribe:r,add:(t,n)=>{u(e=>(e.level=t,e.message=n,function(t,n){localStorage.setItem(t,JSON.stringify(n))}("app.notifications",e),e))},clear:()=>{!function(t){localStorage.removeItem(t)}("app.notifications"),f(s)}};return t.loggedIn=()=>localStorage.hasOwnProperty("app.user.authentication"),t.login=t=>{t||(t="/welcome.html"),window.location=t},t.notifications=p,t.notify=(t,n)=>{p.add(t,n)},t}({});
