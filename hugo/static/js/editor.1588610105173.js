function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function l(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function c(t,e,n){t.$$.on_destroy.push(s(e,n))}function a(t,n,l,o){return t[1]&&o?e(l.ctx.slice(),t[1](o(n))):l.ctx}function u(e){return e&&i(e.destroy)?e.destroy:t}function f(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function v(){return g(" ")}function b(){return g("")}function $(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function w(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){return""===t?void 0:+t}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e){(null!=e||t.value)&&(t.value=e)}function E(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}function C(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let D;function S(t){D=t}function A(){if(!D)throw new Error("Function called outside component initialization");return D}function I(t){A().$$.after_update.push(t)}function N(){const t=A();return(e,n)=>{const l=t.$$.callbacks[e];if(l){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);l.slice().forEach(e=>{e.call(t,o)})}}}function O(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const L=[],T=[],j=[],q=[],z=Promise.resolve();let M=!1;function P(t){j.push(t)}function F(t){q.push(t)}let R=!1;const U=new Set;function Y(){if(!R){R=!0;do{for(let t=0;t<L.length;t+=1){const e=L[t];S(e),H(e.$$)}for(L.length=0;T.length;)T.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];U.has(e)||(U.add(e),e())}j.length=0}while(L.length);for(;q.length;)q.pop()();M=!1,R=!1,U.clear()}}function H(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const J=new Set;let B;function X(){B={r:0,c:[],p:B}}function W(){B.r||o(B.c),B=B.p}function G(t,e){t&&t.i&&(J.delete(t),t.i(e))}function V(t,e,n,l){if(t&&t.o){if(J.has(t))return;J.add(t),B.c.push(()=>{J.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}}function K(t,e,n){const l=t.$$.props[e];void 0!==l&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function Q(t){t&&t.c()}function Z(t,e,l){const{fragment:r,on_mount:s,on_destroy:c,after_update:a}=t.$$;r&&r.m(e,l),P(()=>{const e=s.map(n).filter(i);c?c.push(...e):o(e),t.$$.on_mount=[]}),a.forEach(P)}function tt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(L.push(t),M||(M=!0,z.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,n,i,r,s,c,a=[-1]){const u=D;S(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:a};let m=!1;if(d.ctx=i?i(e,f,(t,n,...l)=>{const o=l.length?l[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),m&&et(e,t)),n}):[],d.update(),m=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();n.intro&&G(e.$$.fragment),Z(e,n.target,n.anchor),Y()}S(u)}class lt{$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const ot={"lists.by.me":"my.lists","my.edited.lists":"my.edited.lists","last.screen":"last.screen","authentication.bearer":"settings.authentication","user.uuid":"user.uuid","settings.server":"settings.server","settings.install.defaults":"settings.install.defaults"};function it(t,e){localStorage.setItem(t,JSON.stringify(e))}var rt={get:function(t,e){return localStorage.hasOwnProperty(t)?JSON.parse(localStorage.getItem(t)):e},save:it,rm:function(t){localStorage.removeItem(t)},clear:function(){localStorage.clear(),it(ot["settings.install.defaults"],!0);const t=document.querySelector('meta[name="api.server"]');it(ot["settings.server"],t?t.content:"https://learnalist.net"),it(ot["my.edited.lists"],[]),it(ot["lists.by.me"],[])},keys:ot};const st=[];function ct(t,e){return{subscribe:at(t,e).subscribe}}function at(e,n=t){let l;const o=[];function i(t){if(r(e,t)&&(e=t,l)){const t=!st.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),st.push(n,e)}if(t){for(let t=0;t<st.length;t+=2)st[t][0](st[t+1]);st.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,s=t){const c=[r,s];return o.push(c),1===o.length&&(l=n(i)||t),r(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(l(),l=null)}}}}function ut(e,n,l){const r=!Array.isArray(e),c=r?[e]:e,a=n.length<2;return ct(l,e=>{let l=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const l=n(r?u[0]:u,e);a?e(l):d=i(l)?l:t},m=c.map((t,e)=>s(t,t=>{u[e]=t,f&=~(1<<e),l&&p()},()=>{f|=1<<e}));return l=!0,p(),function(){o(m),d()}})}function ft(t){let e,n;var l=t[0];if(l){var o=new l({});o.$on("routeEvent",t[10])}return{c(){o&&Q(o.$$.fragment),e=b()},m(t,l){o&&Z(o,t,l),d(t,e,l),n=!0},p(t,n){if(l!==(l=t[0])){if(o){X();const t=o;V(t.$$.fragment,1,0,()=>{tt(t,1)}),W()}l?((o=new l({})).$on("routeEvent",t[10]),Q(o.$$.fragment),G(o.$$.fragment,1),Z(o,e.parentNode,e)):o=null}},i(t){n||(o&&G(o.$$.fragment,t),n=!0)},o(t){o&&V(o.$$.fragment,t),n=!1},d(t){t&&p(e),o&&tt(o,t)}}}function dt(t){let e,n;var l=t[0];function o(t){return{props:{params:t[1]}}}if(l){var i=new l(o(t));i.$on("routeEvent",t[9])}return{c(){i&&Q(i.$$.fragment),e=b()},m(t,l){i&&Z(i,t,l),d(t,e,l),n=!0},p(t,n){const r={};if(2&n&&(r.params=t[1]),l!==(l=t[0])){if(i){X();const t=i;V(t.$$.fragment,1,0,()=>{tt(t,1)}),W()}l?((i=new l(o(t))).$on("routeEvent",t[9]),Q(i.$$.fragment),G(i.$$.fragment,1),Z(i,e.parentNode,e)):i=null}else l&&i.$set(r)},i(t){n||(i&&G(i.$$.fragment,t),n=!0)},o(t){i&&V(i.$$.fragment,t),n=!1},d(t){t&&p(e),i&&tt(i,t)}}}function pt(t){let e,n,l,o;const i=[dt,ft],r=[];function s(t,e){return t[1]?0:1}return e=s(t),n=r[e]=i[e](t),{c(){n.c(),l=b()},m(t,n){r[e].m(t,n),d(t,l,n),o=!0},p(t,[o]){let c=e;e=s(t),e===c?r[e].p(t,o):(X(),V(r[c],1,1,()=>{r[c]=null}),W(),n=r[e],n||(n=r[e]=i[e](t),n.c()),G(n,1),n.m(l.parentNode,l))},i(t){o||(G(n),o=!0)},o(t){V(n),o=!1},d(t){r[e].d(t),t&&p(l)}}}function mt(t,e,...n){if(e&&"function"==typeof e&&((n=n&&n.length?n:[]).unshift(e),e=void 0),!t||"function"!=typeof t)throw Error("Invalid parameter route");if(n&&n.length)for(let t=0;t<n.length;t++)if(!n[t]||"function"!=typeof n[t])throw Error("Invalid parameter conditions["+t+"]");const l={route:t,userData:e};return n&&n.length&&(l.conditions=n),Object.defineProperty(l,"_sveltesparouter",{value:!0}),l}function ht(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let l="";return n>-1&&(l=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:l}}const gt=ct(ht(),(function(t){const e=()=>{t(ht())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));ut(gt,t=>t.location),ut(gt,t=>t.querystring);function vt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");return wt(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t})}function bt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");return wt(()=>{const e=("#"==t.charAt(0)?"":"#")+t;try{window.history.replaceState(void 0,void 0,e)}catch(t){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))})}function $t(t){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');const e=t.getAttribute("href");if(!e||e.length<1||"/"!=e.charAt(0))throw Error('Invalid value for "href" attribute');t.setAttribute("href","#"+e)}function wt(t){return new Promise(e=>{setTimeout(()=>{e(t())},0)})}function yt(e,n,l){let o,i=t;c(e,gt,t=>l(4,o=t)),e.$$.on_destroy.push(()=>i());let{routes:r={}}=n,{prefix:s=""}=n;class a{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:l}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,l,o,i,r=[],s="",c=t.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(r.push("wild"),s+="/(.*)"):":"===n?(l=o.indexOf("?",1),i=o.indexOf(".",1),r.push(o.substring(1,~l?l:~i?i:o.length)),s+=~l&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(s+=(~l?"?":"")+"\\"+o.substring(i))):s+="/"+o;return{keys:r,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=l}match(t){s&&t.startsWith(s)&&(t=t.substr(s.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let l=0;for(;l<this._keys.length;)n[this._keys[l]]=e[++l]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const u=[];r instanceof Map?r.forEach((t,e)=>{u.push(new a(e,t))}):Object.keys(r).forEach(t=>{u.push(new a(t,r[t]))});let f=null,d=null;const p=N(),m=(t,e)=>{setTimeout(()=>{p(t,e)},0)};return e.$set=t=>{"routes"in t&&l(2,r=t.routes),"prefix"in t&&l(3,s=t.prefix)},e.$$.update=()=>{if(17&e.$$.dirty){l(0,f=null);let t=0;for(;!f&&t<u.length;){const e=u[t].match(o.location);if(e){const n={component:u[t].component,name:u[t].component.name,location:o.location,querystring:o.querystring,userData:u[t].userData};if(!u[t].checkConditions(n)){m("conditionsFailed",n);break}l(0,f=u[t].component),e&&"object"==typeof e&&Object.keys(e).length?l(1,d=e):l(1,d=null),m("routeLoaded",n)}t++}}},[f,d,r,s,o,a,u,p,m,function(t){O(e,t)},function(t){O(e,t)}]}class xt extends lt{constructor(t){super(),nt(this,t,yt,pt,r,{routes:2,prefix:3})}}function kt(t,e){return localStorage.hasOwnProperty(t)?JSON.parse(localStorage.getItem(t)):e}function _t(t){return JSON.parse(JSON.stringify(t))}function Et(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}function Ct(t){return t.indexOf(" ")>=0}function Dt(t){t.focus()}const St=function(){let t={redirectURL:"/",loggedIn:!!kt("app.user.authentication")};const{subscribe:e,set:n,update:l}=at(t);return{subscribe:e,login:t=>{var e,n;e="app.user.authentication",n=t.token,localStorage.setItem(e,JSON.stringify(n)),l(t=>(t.loggedIn=!0,t))},logout:()=>{cache.clear(),l(t=>(t.loggedIn=!1,t))},redirectURLAfterLogin:t=>{var e;(""===(e=t)||void 0===e)&&(t="/"),l(e=>(e.redirectURL=t,e))}}}();function At(e){let n,l,i,r,s,c,a,m,g,b,$;return{c(){n=h("header"),l=h("div"),i=v(),r=h("div"),s=h("div"),c=h("a"),c.textContent="Create",m=v(),g=h("a"),g.textContent="Find",y(l,"class","w-25 pa3 mr2"),y(c,"title","Documentation"),y(c,"href","/create"),y(c,"class","f6 fw6 hover-blue link black-70 mr2 mr3-m mr2-l di"),y(g,"title","Components"),y(g,"href","/lists/by/me"),y(g,"class","f6 fw6 hover-blue link black-70 mr2 mr3-m mr5-l di"),y(s,"class","fr mt0"),y(r,"class","w-75 pa3 items-end"),y(n,"class","flex")},m(t,e,p){d(t,n,e),f(n,l),f(n,i),f(n,r),f(r,s),f(s,c),f(s,m),f(s,g),p&&o($),$=[u(a=$t.call(null,c)),u(b=$t.call(null,g))]},p:t,i:t,o:t,d(t){t&&p(n),o($)}}}class It extends lt{constructor(t){super(),nt(this,t,null,At,r,{})}}function Nt(t){let e,n;const l=t[1].default,o=function(t,e,n,l){if(t){const o=a(t,e,n,l);return t[0](o)}}(l,t,t[0],null);return{c(){e=h("div"),o&&o.c(),y(e,"class","box svelte-wrrycl")},m(t,l){d(t,e,l),o&&o.m(e,null),n=!0},p(t,[e]){o&&o.p&&1&e&&o.p(a(l,t,t[0],null),function(t,e,n,l){if(t[2]&&l){const o=t[2](l(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let l=0;l<n;l+=1)t[l]=e.dirty[l]|o[l];return t}return e.dirty|o}return e.dirty}(l,t[0],e,null))},i(t){n||(G(o,t),n=!0)},o(t){V(o,t),n=!1},d(t){t&&p(e),o&&o.d(t)}}}function Ot(t,e,n){let{$$slots:l={},$$scope:o}=e;return t.$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,l]}class Lt extends lt{constructor(t){super(),nt(this,t,Ot,Nt,r,{})}}const Tt=[];let jt;function qt(t){t.node.classList.remove(t.className),t.pattern.test(jt)&&t.node.classList.add(t.className)}function zt(e){let n,l,i,r,s,c,a,m,g,b,w,x,k,_,E,C;return{c(){n=h("h1"),n.textContent="The Editor",l=v(),i=h("ul"),r=h("li"),s=h("a"),s.textContent="Create",a=v(),m=h("li"),m.textContent="Share",g=v(),b=h("li"),w=h("a"),w.textContent="Server information",k=v(),_=h("li"),E=h("a"),E.textContent="Clear cache",y(s,"class","f5 link black"),y(s,"href","/create"),y(w,"class","f5 link black"),y(w,"href","/settings/server_information"),y(E,"class","f5 link black"),y(E,"href","#")},m(t,p,h){d(t,n,p),d(t,l,p),d(t,i,p),f(i,r),f(r,s),f(i,a),f(i,m),f(i,g),f(i,b),f(b,w),f(i,k),f(i,_),f(_,E),h&&o(C),C=[u(c=$t.call(null,s)),u(x=$t.call(null,w)),$(E,"click",e[0])]},p:t,i:t,o:t,d(t){t&&p(n),t&&p(l),t&&p(i),o(C)}}}function Mt(t){return[()=>(rt.clear(),St.logout(),void bt("/"))]}gt.subscribe(t=>{jt=t.location+(t.querystring?"?"+t.querystring:""),Tt.map(qt)});function Pt(){const t=kt("app.user.authentication",null);if(null===t)throw new Error("login.required");return`Bearer ${t}`}function Ft(){const t=kt("settings.server",null);if(null===t)throw new Error("settings.server.missing");return t}function Rt(){return{"Content-Type":"application/json",Authorization:Pt()}}function Ut(e){let n,l,o,i;return{c(){n=h("article"),l=h("h2"),o=g(e[0]),y(l,"class","f4 br3 b--red mw-100 black-70 mv0 pv2 ph4"),y(n,"class","mw10 bt bw3 b--red bg-washed-red mw-100"),y(n,"title","Click to dismiss.")},m(t,r,s){d(t,n,r),f(n,l),f(l,o),s&&i(),i=$(n,"click",e[3])},p(t,[e]){1&e&&k(o,t[0])},i:t,o:t,d(t){t&&p(n),i()}}}function Yt(t,e,n){let{message:l}=e;const o=N();function i(){o("clear")}return t.$set=t=>{"message"in t&&n(0,l=t.message)},[l,i,o,()=>i()]}class Ht extends lt{constructor(t){super(),nt(this,t,Yt,Ut,r,{message:0})}}function Jt(t){let e;const n=new Ht({props:{message:t[2]}});return n.$on("clear",t[5]),{c(){Q(n.$$.fragment)},m(t,l){Z(n,t,l),e=!0},p(t,e){const l={};4&e&&(l.message=t[2]),n.$set(l)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){tt(n,t)}}}function Bt(e){let n;return{c(){n=h("p"),n.innerHTML='\n      You are already logged in.\n      <br>\n      Goto the\n      <a href="/welcome.html">welcome page</a>',y(n,"class","measure center")},m(t,e){d(t,n,e)},p:t,d(t){t&&p(n)}}}function Xt(t){let e,n,l,i,r,s,c,a,u,m,g,b,x,k;return{c(){e=h("form"),n=h("fieldset"),l=h("div"),i=h("label"),i.textContent="Username",r=v(),s=h("input"),c=v(),a=h("div"),u=h("label"),u.textContent="Password",m=v(),g=h("input"),b=v(),x=h("div"),x.innerHTML='<div class="w-100 items-end"><div class="fr"><div class="flex items-center mb2"><button class="db w-100" type="submit">Login</button></div> \n\n            <div class="flex items-center mb2"><span class="f6 link dib black">\n                or with\n                <a target="_blank" href="https://learnalist.net/api/v1/oauth/google/redirect" class="f6 link underline dib black">\n                  google\n                </a></span></div> \n\n            <div class="flex items-center mb2"><span class="f6 link dib black">\n                or via\n                <a target="_blank" href="https://learnalist.net/login.html" class="f6 link underline dib black">\n                  learnalist login\n                </a></span></div></div></div>',y(i,"class","db fw6 lh-copy f6"),y(i,"for","username"),y(s,"class","pa2 input-reset ba bg-transparent b--black-20 w-100 br2"),y(s,"type","text"),y(s,"name","username"),y(s,"id","username"),y(s,"autocapitalize","none"),y(l,"class","mt3"),y(u,"class","db fw6 lh-copy f6"),y(u,"for","password"),y(g,"class","b pa2 input-reset ba bg-transparent b--black-20 w-100 br2"),y(g,"type","password"),y(g,"name","password"),y(g,"autocomplete","off"),y(g,"id","password"),y(a,"class","mv3"),y(n,"id","sign_up"),y(n,"class","ba b--transparent ph0 mh0"),y(x,"class","measure flex"),y(e,"class","measure center")},m(p,h,v){d(p,e,h),f(e,n),f(n,l),f(l,i),f(l,r),f(l,s),_(s,t[0]),f(n,c),f(n,a),f(a,u),f(a,m),f(a,g),_(g,t[1]),f(e,b),f(e,x),v&&o(k),k=[$(s,"input",t[7]),$(g,"input",t[8]),$(e,"submit",w(t[4]))]},p(t,e){1&e&&s.value!==t[0]&&_(s,t[0]),2&e&&g.value!==t[1]&&_(g,t[1])},d(t){t&&p(e),o(k)}}}function Wt(t){let e,n,l,o=t[2]&&Jt(t);let i=function(t,e){return t[3]?Bt:Xt}(t)(t);return{c(){o&&o.c(),e=v(),n=h("main"),i.c(),y(n,"class","pa4 black-80")},m(t,r){o&&o.m(t,r),d(t,e,r),d(t,n,r),i.m(n,null),l=!0},p(t,[n]){t[2]?o?(o.p(t,n),4&n&&G(o,1)):(o=Jt(t),o.c(),G(o,1),o.m(e.parentNode,e)):o&&(X(),V(o,1,1,()=>{o=null}),W()),i.p(t,n)},i(t){l||(G(o),l=!0)},o(t){V(o),l=!1},d(t){o&&o.d(t),t&&p(e),t&&p(n),i.d()}}}function Gt(t,e,n){let l;c(t,St,t=>n(6,l=t));let o,i=l.loggedIn,r="",s="";return[r,s,o,i,async function(){if(""===r||""===s)return void n(2,o="Please enter in a username and password");let t=await async function(t,e){const n={status:400,body:{}},l={username:t,password:e},o=Ft()+"/api/v1/user/login",i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),r=await i.json();switch(i.status){case 200:case 403:case 400:return n.status=i.status,n.body=r,n}throw new Error("Unexpected response from the server")}(r,s);200==t.status?(St.login(t.body),vt(l.redirectURL)):alert("Try again")},function(){n(2,o=null)},l,function(){r=this.value,n(0,r)},function(){s=this.value,n(1,s)}]}class Vt extends lt{constructor(t){super(),nt(this,t,Gt,Wt,r,{})}}function Kt(t){let e;const n=new Vt({});return{c(){Q(n.$$.fragment)},m(t,l){Z(n,t,l),e=!0},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){tt(n,t)}}}function Qt(t){let e;return{c(){e=h("p"),e.textContent="You are logged in"},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function Zt(t){let e,n,l,o=!t[0].loggedIn&&Kt(),i=t[0].loggedIn&&Qt();return{c(){o&&o.c(),e=v(),i&&i.c(),n=b()},m(t,r){o&&o.m(t,r),d(t,e,r),i&&i.m(t,r),d(t,n,r),l=!0},p(t,[l]){t[0].loggedIn?o&&(X(),V(o,1,1,()=>{o=null}),W()):o?1&l&&G(o,1):(o=Kt(),o.c(),G(o,1),o.m(e.parentNode,e)),t[0].loggedIn?i||(i=Qt(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(t){l||(G(o),l=!0)},o(t){V(o),l=!1},d(t){o&&o.d(t),t&&p(e),i&&i.d(t),t&&p(n)}}}function te(t,e,n){let l;return c(t,St,t=>n(0,l=t)),[l]}function ee(e){let n,l,o,i=e[0].loggedIn+"";return{c(){n=h("p"),l=g("You are logged out "),o=g(i)},m(t,e){d(t,n,e),f(n,l),f(n,o)},p(t,[e]){1&e&&i!==(i=t[0].loggedIn+"")&&k(o,i)},i:t,o:t,d(t){t&&p(n)}}}function ne(t,e,n){let l;return c(t,St,t=>n(0,l=t)),[l]}function le(e){let n,l,o;return{c(){n=h("h2"),n.textContent="NotFound",l=v(),o=h("p"),o.textContent="Oops, this route doesn't exist!",y(n,"class","routetitle")},m(t,e){d(t,n,e),d(t,l,e),d(t,o,e)},p:t,i:t,o:t,d(t){t&&p(n),t&&p(l),t&&p(o)}}}let oe={edit:t=>{vt("/list/edit/"+t)},view:t=>{vt("/list/view/"+t)}};const ie=rt.get(rt.keys["lists.by.me"]),{subscribe:re,set:se,update:ce}=at(ie),ae=at(!1),ue=at("");var fe={subscribe:re,set:se,loading:ae,error:ue,async get(){let t=rt.keys["lists.by.me"],e=[];try{e=rt.get(t,e),se(e),ue.set(""),0===e.length&&ae.set(!0);const n=await async function(){const t=Ft()+"/api/v1/alist/by/me",e=await fetch(t,{headers:Rt()});let n=await e.json();if(e.ok)return n;throw new Error("Failed to get lists by me")}();return ae.set(!1),rt.save(t,n),se(n),n}catch(n){ae.set(!1),e=rt.get(t,e),se(e),ue.set(`Error has been occurred. Details: ${n.message}`)}},find(t){return function(t){let e;return s(t,t=>e=t)(),e}(this).find(e=>e.uuid===t)},add(t){ce(e=>(e.push(t),rt.save(rt.keys["lists.by.me"],e),e))},update(t){ce(e=>{const n=e.map(e=>(e.uuid===t.uuid&&(e=t),e));return rt.save(rt.keys["lists.by.me"],n),n})},remove(t){ce(e=>{const n=e.filter(e=>e.uuid!==t);return rt.save(rt.keys["lists.by.me"],n),n})}};const de=rt.get(rt.keys["my.edited.lists"]),{subscribe:pe,set:me,update:he}=at(de);var ge={subscribe:pe,set:me,find(t){let e;return he(n=>(e=n.find(e=>e.uuid===t),n)),e},add(t){he(e=>(e.some(e=>e.uuid===t.uuid)||e.push(t),e))},update(t){he(e=>{const n=e.map(e=>(e.uuid===t.uuid&&(e=t),e));return rt.save(rt.keys["my.edited.lists"],n),n})},remove(t){he(e=>{const n=e.filter(e=>e.uuid!==t);return rt.save(rt.keys["my.edited.lists"],n),n})}};function ve(t,e,n){const l=t.slice();return l[9]=e[n],l[11]=n,l}function be(t){let e;const n=new Ht({props:{message:t[2]}});return n.$on("clear",t[4]),{c(){Q(n.$$.fragment)},m(t,l){Z(n,t,l),e=!0},p(t,e){const l={};4&e&&(l.message=t[2]),n.$set(l)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){tt(n,t)}}}function $e(t){let e,n,l,o,i,r,s,c,a,u,m=t[9].description+"";return{c(){e=h("div"),n=h("input"),i=v(),r=h("label"),s=g(m),a=v(),y(n,"class","mr2"),y(n,"type","radio"),y(n,"id",l="list-type-"+t[11]),y(n,"name","type"),n.__value=o=t[9].key,n.value=n.__value,t[8][0].push(n),y(r,"for",c="list-type-"+t[11]),y(r,"class","lh-copy"),y(e,"class","flex items-center mb2")},m(l,o,c){d(l,e,o),f(e,n),n.checked=n.__value===t[1],f(e,i),f(e,r),f(r,s),f(e,a),c&&u(),u=$(n,"change",t[7])},p(t,e){2&e&&(n.checked=n.__value===t[1])},d(l){l&&p(e),t[8][0].splice(t[8][0].indexOf(n),1),u()}}}function we(t){let e,n,l,i,r,s,c,a,g,b,x,k,E,C,D,S,A,I,N=t[2]&&be(t),O=t[3],L=[];for(let e=0;e<O.length;e+=1)L[e]=$e(ve(t,O,e));return{c(){e=h("div"),n=h("div"),n.innerHTML='<svg class="w1" data-icon="info" viewBox="0 0 24 24" style="fill:currentcolor"><title>info icon</title><path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99\n        10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42\n        0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg> \n    <span class="lh-title ml3">\n      Some info that you want to call attention to.\n    </span>',l=v(),N&&N.c(),i=v(),r=h("section"),s=h("h1"),s.textContent="Create a list",c=v(),a=h("form"),g=h("div"),b=h("input"),k=v(),E=h("div"),C=h("fieldset");for(let t=0;t<L.length;t+=1)L[t].c();D=v(),S=h("div"),S.innerHTML='<button type="submit">Submit</button>',y(n,"class","flex items-center justify-center pa1 bg-light-red pv3"),y(s,"class","f4 br3 b--yellow black-70 mv0 pv2 ph4"),y(b,"class","input-reset ba b--black-20 pa2 mb2 db w-100"),y(b,"type","text"),y(b,"aria-describedby","title-desc"),y(b,"placeholder","Title"),y(g,"class","measure"),y(C,"class","bn"),y(E,"class","measure"),y(S,"class","measure"),y(a,"class","pa4 black-80"),y(r,"class","center pa3 ph1-ns"),y(e,"class","pv0 mw100")},m(p,m,h){d(p,e,m),f(e,n),f(e,l),N&&N.m(e,null),f(e,i),f(e,r),f(r,s),f(r,c),f(r,a),f(a,g),f(g,b),_(b,t[0]),f(a,k),f(a,E),f(E,C);for(let t=0;t<L.length;t+=1)L[t].m(C,null);f(a,D),f(a,S),A=!0,h&&o(I),I=[$(b,"input",t[6]),u(x=ye.call(null,b)),$(a,"submit",w(t[5]))]},p(t,[n]){if(t[2]?N?(N.p(t,n),4&n&&G(N,1)):(N=be(t),N.c(),G(N,1),N.m(e,i)):N&&(X(),V(N,1,1,()=>{N=null}),W()),1&n&&b.value!==t[0]&&_(b,t[0]),10&n){let e;for(O=t[3],e=0;e<O.length;e+=1){const l=ve(t,O,e);L[e]?L[e].p(l,n):(L[e]=$e(l),L[e].c(),L[e].m(C,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=O.length}},i(t){A||(G(N),A=!0)},o(t){V(N),A=!1},d(t){t&&p(e),N&&N.d(),m(L,t),o(I)}}}function ye(t){t.focus()}function xe(t,e,n){let l,o,i="";return[i,l,o,[{key:"v1",description:"free text"},{key:"v2",description:"From -> To"},{key:"v4",description:"A url and some text"},{key:"v3",description:"Concept2 rowing machine log"}],function(){n(2,o=null)},async function(){if(""===i)return void n(2,o="Title cant be empty");if(!l)return void n(2,o="Pick a list type");const t=await async function(t,e){const n={data:[],info:{title:t,type:e,labels:[]}},l=Ft()+"/api/v1/alist",o=await fetch(l,{method:"POST",headers:Rt(),body:JSON.stringify(n)}),i=await o.json();if(400===o.status||201===o.status)return{status:o.status,body:i};throw new Error("Unexpected response from the server when posting a list")}(i,l);if(201===t.status){const e=t.body,n=e.uuid;return ge.add(e),fe.add(e),void oe.edit(n)}n(2,o=t.body.message)},function(){i=this.value,n(0,i)},function(){l=this.__value,n(1,l)},[[]]]}function ke(t){let e;const n=new Ht({props:{message:t[1]}});return n.$on("clear",t[2]),{c(){Q(n.$$.fragment)},m(t,l){Z(n,t,l),e=!0},p(t,e){const l={};2&e&&(l.message=t[1]),n.$set(l)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){tt(n,t)}}}function _e(t){let e,n,l,i,r,s,c,a,m,g,b,x,k,E,C,D=t[1]&&ke(t);return{c(){e=h("div"),n=h("section"),D&&D.c(),l=v(),i=h("article"),r=h("h1"),r.textContent="Create a label",s=v(),c=h("div"),a=h("form"),m=h("div"),g=h("input"),x=v(),k=h("div"),k.innerHTML='<button type="submit">Submit</button>',y(r,"class","f4 br3 b--yellow mw-100 black-70 mv0 pv2 ph4"),y(g,"class","input-reset ba b--black-20 pa2 mb2 db w-100"),y(g,"type","text"),y(g,"aria-describedby","title-desc"),y(g,"placeholder","Label"),y(m,"class","measure"),y(k,"class","measure"),y(a,"class","pa4 black-80"),y(c,"class","bt b--washed-yellow"),y(i,"class","mw10 bt bw3 b--yellow mw-100"),y(n,"class","ph0 mh0 pv0"),y(e,"class","pv0")},m(p,h,v){d(p,e,h),f(e,n),D&&D.m(n,null),f(n,l),f(n,i),f(i,r),f(i,s),f(i,c),f(c,a),f(a,m),f(m,g),_(g,t[0]),f(a,x),f(a,k),E=!0,v&&o(C),C=[$(g,"input",t[5]),u(b=Dt.call(null,g)),$(a,"submit",w(t[3]))]},p(t,[e]){t[1]?D?(D.p(t,e),2&e&&G(D,1)):(D=ke(t),D.c(),G(D,1),D.m(n,l)):D&&(X(),V(D,1,1,()=>{D=null}),W()),1&e&&g.value!==t[0]&&_(g,t[0])},i(t){E||(G(D),E=!0)},o(t){V(D),E=!1},d(t){t&&p(e),D&&D.d(),o(C)}}}function Ee(t,e,n){let l,o="";return[o,l,function(){n(1,l=null)},async function(){if(""===o||Ct(o))return n(1,l="The label cannot be empty."),void n(0,o="")},async function(){if(""===o||Ct(o))return n(1,l="The label cannot be empty."),void n(0,o="");let t=await label.save(o);201===t.status||200===t.status?(n(1,l=t.body.message),router.showScreenLabelView(o)):n(1,l=t.body.message)},function(){o=this.value,n(0,o)}]}function Ce(e){let n,l,i,r,s,c,a,m,g,b,$;return{c(){n=h("div"),l=h("article"),i=h("h1"),i.textContent="I would like to create a",r=v(),s=h("div"),c=h("a"),c.textContent="List",m=v(),g=h("a"),g.textContent="Label",y(i,"class","fw3 f3 f2-ns lh-title mt0 mb3"),y(c,"class","f6 link dim br1 ba bw1 ph3 pv2 mb2 dib black mr6-ns"),y(c,"href","/create/list"),y(g,"class","f6 link dim br1 ba bw1 ph3 pv2 mb2 dib black"),y(g,"href","/create/label"),y(s,"class",""),y(l,"class","pt5 mw10 center ph3 ph5-ns tc br2 pv5 bg-washed-yellow dark-yellow\n    mb5"),y(n,"class","pt2")},m(t,e,p){d(t,n,e),f(n,l),f(l,i),f(l,r),f(l,s),f(s,c),f(s,m),f(s,g),p&&o($),$=[u(a=$t.call(null,c)),u(b=$t.call(null,g))]},p:t,i:t,o:t,d(t){t&&p(n),o($)}}}function De(e){let n,l,o;return{c(){n=h("li"),l=g(e[0]),y(n,"class","lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30")},m(t,i,r){d(t,n,i),f(n,l),r&&o(),o=$(n,"click",e[1])},p(t,[e]){1&e&&k(l,t[0])},i:t,o:t,d(t){t&&p(n),o()}}}function Se(t,e,n){let{title:l=""}=e,{uuid:o=""}=e;return t.$set=t=>{"title"in t&&n(0,l=t.title),"uuid"in t&&n(2,o=t.uuid)},[l,function(){console.log(o),oe.view(o)},o]}class Ae extends lt{constructor(t){super(),nt(this,t,Se,De,r,{title:0,uuid:2})}}function Ie(t,e,n){const l=t.slice();return l[18]=e[n],l}function Ne(t,e,n){const l=t.slice();return l[21]=e[n],l}function Oe(t,e,n){const l=t.slice();return l[24]=e[n],l}function Le(t){let e,n,l,i,r,s,c,a,u,g,b,w,x,k,_=t[9](t[4]),C=t[3],D=[];for(let e=0;e<C.length;e+=1)D[e]=qe(Oe(t,C,e));let S=_&&ze(t),A=t[2],I=[];for(let e=0;e<A.length;e+=1)I[e]=Pe(Ie(t,A,e));const N=t=>V(I[t],1,1,()=>{I[t]=null});return{c(){e=h("div"),n=h("fieldset"),l=h("div"),l.innerHTML="<span>Filter</span>",i=v(),r=h("div"),s=h("select");for(let t=0;t<D.length;t+=1)D[t].c();c=v(),S&&S.c(),a=v(),u=h("div"),g=h("button"),g.textContent="reset",b=v(),w=h("ul");for(let t=0;t<I.length;t+=1)I[t].c();y(l,"class","flex items-center mb2"),void 0===t[0]&&P(()=>t[16].call(s)),y(r,"class","flex items-center mb2"),y(u,"class","flex items-center mb2"),y(n,"class","bn"),y(w,"class","list pl0 measure center")},m(p,m,h){d(p,e,m),f(e,n),f(n,l),f(n,i),f(n,r),f(r,s);for(let t=0;t<D.length;t+=1)D[t].m(s,null);E(s,t[0]),f(n,c),S&&S.m(n,null),f(n,a),f(n,u),f(u,g),d(p,b,m),d(p,w,m);for(let t=0;t<I.length;t+=1)I[t].m(w,null);x=!0,h&&o(k),k=[$(s,"change",t[16]),$(g,"click",t[10])]},p(t,e){if(8&e){let n;for(C=t[3],n=0;n<C.length;n+=1){const l=Oe(t,C,n);D[n]?D[n].p(l,e):(D[n]=qe(l),D[n].c(),D[n].m(s,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=C.length}if(1&e&&E(s,t[0]),16&e&&(_=t[9](t[4])),_?S?S.p(t,e):(S=ze(t),S.c(),S.m(n,a)):S&&(S.d(1),S=null),4&e){let n;for(A=t[2],n=0;n<A.length;n+=1){const l=Ie(t,A,n);I[n]?(I[n].p(l,e),G(I[n],1)):(I[n]=Pe(l),I[n].c(),G(I[n],1),I[n].m(w,null))}for(X(),n=A.length;n<I.length;n+=1)N(n);W()}},i(t){if(!x){for(let t=0;t<A.length;t+=1)G(I[t]);x=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)V(I[t]);x=!1},d(t){t&&p(e),m(D,t),S&&S.d(),t&&p(b),t&&p(w),m(I,t),o(k)}}}function Te(e){let n;return{c(){n=g("Loading...")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function je(e){let n,l;return{c(){n=g("error is "),l=g(e[5])},m(t,e){d(t,n,e),d(t,l,e)},p(t,e){32&e&&k(l,t[5])},i:t,o:t,d(t){t&&p(n),t&&p(l)}}}function qe(t){let e,n,l,o=t[24].description+"";return{c(){e=h("option"),n=g(o),e.__value=l=t[24].key,e.value=e.__value},m(t,l){d(t,e,l),f(e,n)},p(t,i){8&i&&o!==(o=t[24].description+"")&&k(n,o),8&i&&l!==(l=t[24].key)&&(e.__value=l),e.value=e.__value},d(t){t&&p(e)}}}function ze(t){let e,n,l,o=t[4],i=[];for(let e=0;e<o.length;e+=1)i[e]=Me(Ne(t,o,e));return{c(){e=h("div"),n=h("select");for(let t=0;t<i.length;t+=1)i[t].c();void 0===t[1]&&P(()=>t[17].call(n)),y(e,"class","flex items-center mb2")},m(o,r,s){d(o,e,r),f(e,n);for(let t=0;t<i.length;t+=1)i[t].m(n,null);E(n,t[1]),s&&l(),l=$(n,"change",t[17])},p(t,e){if(16&e){let l;for(o=t[4],l=0;l<o.length;l+=1){const r=Ne(t,o,l);i[l]?i[l].p(r,e):(i[l]=Me(r),i[l].c(),i[l].m(n,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}2&e&&E(n,t[1])},d(t){t&&p(e),m(i,t),l()}}}function Me(t){let e,n,l,o=t[21]+"";return{c(){e=h("option"),n=g(o),e.__value=l=t[21],e.value=e.__value},m(t,l){d(t,e,l),f(e,n)},p(t,i){16&i&&o!==(o=t[21]+"")&&k(n,o),16&i&&l!==(l=t[21])&&(e.__value=l),e.value=e.__value},d(t){t&&p(e)}}}function Pe(t){let e;const n=new Ae({props:{title:t[18].info.title,uuid:t[18].uuid}});return{c(){Q(n.$$.fragment)},m(t,l){Z(n,t,l),e=!0},p(t,e){const l={};4&e&&(l.title=t[18].info.title),4&e&&(l.uuid=t[18].uuid),n.$set(l)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){tt(n,t)}}}function Fe(t){let e,n,l,o,i;const r=[je,Te,Le],s=[];function c(t,e){return t[5]?0:t[6]?1:2}return l=c(t),o=s[l]=r[l](t),{c(){e=h("div"),n=h("div"),o.c(),y(n,"class","pl0 measure center"),y(e,"class","pa3 pa2-ns")},m(t,o){d(t,e,o),f(e,n),s[l].m(n,null),i=!0},p(t,[e]){let i=l;l=c(t),l===i?s[l].p(t,e):(X(),V(s[i],1,1,()=>{s[i]=null}),W(),o=s[l],o||(o=s[l]=r[l](t),o.c()),G(o,1),o.m(n,null))},i(t){i||(G(o),i=!0)},o(t){V(o),i=!1},d(t){t&&p(e),s[l].d()}}}function Re(t,e,n){let l,o,i;c(t,fe,t=>n(11,l=t));const r=fe.loading;c(t,r,t=>n(6,i=t));const s=fe.error;c(t,s,t=>n(5,o=t)),fe.get();let a="all",u="Any label",f=l;const d=[...new Set(l.map(t=>t.info.type))],p=[{key:"all",description:"Any list type"},{key:"v1",description:"free text"},{key:"v2",description:"From -> To"},{key:"v4",description:"A url and some text"},{key:"v3",description:"Concept2 rowing machine log"}];function m(t){const e=[...new Set(t.map(t=>t.info.type))],n=[];return n.push(p[0]),new Set(p.filter(t=>e.includes(t.key))).forEach(t=>{n.push(t)}),n}let h,g,v;return t.$$.update=()=>{2051&t.$$.dirty&&n(2,h=function(t,e,n){let l=t.filter(t=>"all"==e||e==t.info.type);return l=l.filter(t=>"Any label"==n||t.info.labels.includes(n)),l}(l,a,u)),4&t.$$.dirty&&n(3,g=m(h)),4&t.$$.dirty&&n(4,v=function(t){const e=new Set;return t.forEach(t=>{t.info.labels.length>0&&t.info.labels.forEach(t=>{e.add(t)})}),0===e.size?[]:["Any label",...e]}(h))},[a,u,h,g,v,o,i,r,s,function(t){return!!t.length},function(){n(0,a="all"),n(1,u="Any label")},l,f,d,p,m,function(){a=C(this),n(0,a),n(3,g),n(2,h),n(11,l),n(0,a),n(1,u)},function(){u=C(this),n(1,u),n(4,v),n(2,h),n(11,l),n(0,a),n(1,u)}]}function Ue(e){let n,l,o,i;return{c(){n=h("article"),l=h("div"),o=h("h1"),i=g(e[0]),y(o,"class","f6 f5-ns fw5 lh-title black-60 mv0"),y(l,"class","dtc v-mid pl0"),y(n,"class","dt w-100 bb b--black-05 pb2 mt2")},m(t,e){d(t,n,e),f(n,l),f(l,o),f(o,i)},p(t,[e]){1&e&&k(i,t[0])},i:t,o:t,d(t){t&&p(n)}}}function Ye(t,e,n){let{item:l=""}=e;return t.$set=t=>{"item"in t&&n(0,l=t.item)},[l]}class He extends lt{constructor(t){super(),nt(this,t,Ye,Ue,r,{item:0})}}function Je(e){let n,l,o,i,r,s,c,a=e[0].from+"",u=e[0].to+"";return{c(){n=h("article"),l=h("div"),o=h("h1"),i=g(a),r=v(),s=h("h2"),c=g(u),y(o,"class","f6 f5-ns fw6 lh-title black mv0"),y(s,"class","f6 fw4 mt0 mb0 black-60"),y(l,"class","dtc v-mid pl0"),y(n,"class","dt w-100 bb b--black-05 pb2 mt2")},m(t,e){d(t,n,e),f(n,l),f(l,o),f(o,i),f(l,r),f(l,s),f(s,c)},p(t,[e]){1&e&&a!==(a=t[0].from+"")&&k(i,a),1&e&&u!==(u=t[0].to+"")&&k(c,u)},i:t,o:t,d(t){t&&p(n)}}}function Be(t,e,n){let{item:l={from:"",to:""}}=e;return t.$set=t=>{"item"in t&&n(0,l=t.item)},[l]}class Xe extends lt{constructor(t){super(),nt(this,t,Be,Je,r,{item:0})}}function We(e){let n,l,o,i;return{c(){n=h("article"),l=h("div"),o=h("h1"),i=g(e[0]),y(o,"class","f6 f5-ns fw6 lh-title black mv0"),y(l,"class","dtc v-mid pl0"),y(n,"class","dt w-100 bb b--black-05 pb2 mt2")},m(t,e){d(t,n,e),f(n,l),f(l,o),f(o,i)},p(t,[e]){1&e&&k(i,t[0])},i:t,o:t,d(t){t&&p(n)}}}function Ge(t,e,n){let l,{item:o={when:"",overall:{time:"",distance:"",p500:"",spm:""},splits:[]}}=e;return t.$set=t=>{"item"in t&&n(1,o=t.item)},t.$$.update=()=>{2&t.$$.dirty&&n(0,l=`${o.overall.distance} meters in ${o.overall.time}`)},[l,o]}class Ve extends lt{constructor(t){super(),nt(this,t,Ge,We,r,{item:1})}}function Ke(e){let n,l,o,i,r,s,c,a,u=e[0].content+"",m=e[0].url+"";return{c(){n=h("article"),l=h("div"),o=h("h1"),i=g(u),r=v(),s=h("a"),c=g(m),y(o,"class","f6 f5-ns fw6 lh-title black mv0"),y(s,"class","f6 fw4 mt0 mb0 black-40"),y(s,"href",a=e[0].url),y(s,"target","_blank"),y(l,"class","dtc v-mid pl0"),y(n,"class","dt w-100 bb b--black-05 pb2 mt2")},m(t,e){d(t,n,e),f(n,l),f(l,o),f(o,i),f(l,r),f(l,s),f(s,c)},p(t,[e]){1&e&&u!==(u=t[0].content+"")&&k(i,u),1&e&&m!==(m=t[0].url+"")&&k(c,m),1&e&&a!==(a=t[0].url)&&y(s,"href",a)},i:t,o:t,d(t){t&&p(n)}}}function Qe(t,e,n){let{item:l={content:"",url:""}}=e;return t.$set=t=>{"item"in t&&n(0,l=t.item)},[l]}class Ze extends lt{constructor(t){super(),nt(this,t,Qe,Ke,r,{item:0})}}function tn(t,e,n){const l=t.slice();return l[12]=e[n],l[13]=e,l[14]=n,l}function en(t,e,n){const l=t.slice();return l[12]=e[n],l}function nn(e){let n,l,o,i,r=e[12]+"";return{c(){n=h("li"),l=h("span"),o=g(r),i=v(),y(l,"href","#"),y(l,"class","f6 f5-ns b db pa2 link dark-gray ba b--black-20"),y(n,"class","dib mr1 mb2 pl0")},m(t,e){d(t,n,e),f(n,l),f(l,o),f(n,i)},p:t,d(t){t&&p(n)}}}function ln(t){let e,n,l=t[0],o=[];for(let e=0;e<l.length;e+=1)o[e]=on(tn(t,l,e));const i=t=>V(o[t],1,1,()=>{o[t]=null});return{c(){e=h("div");for(let t=0;t<o.length;t+=1)o[t].c();y(e,"class","nicebox")},m(t,l){d(t,e,l);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){if(33&n){let r;for(l=t[0],r=0;r<l.length;r+=1){const i=tn(t,l,r);o[r]?(o[r].p(i,n),G(o[r],1)):(o[r]=on(i),o[r].c(),G(o[r],1),o[r].m(e,null))}for(X(),r=l.length;r<o.length;r+=1)i(r);W()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)G(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)V(o[t]);n=!1},d(t){t&&p(e),m(o,t)}}}function on(t){let e,n,l;function o(e){t[11].call(null,e,t[12],t[13],t[14])}var i=t[5];function r(t){let e={};return void 0!==t[12]&&(e.item=t[12]),{props:e}}if(i){var s=new i(r(t));T.push(()=>K(s,"item",o))}return{c(){s&&Q(s.$$.fragment),n=b()},m(t,e){s&&Z(s,t,e),d(t,n,e),l=!0},p(l,c){t=l;const a={};if(!e&&1&c&&(e=!0,a.item=t[12],F(()=>e=!1)),i!==(i=t[5])){if(s){X();const t=s;V(t.$$.fragment,1,0,()=>{tt(t,1)}),W()}i?(s=new i(r(t)),T.push(()=>K(s,"item",o)),Q(s.$$.fragment),G(s.$$.fragment,1),Z(s,n.parentNode,n)):s=null}else i&&s.$set(a)},i(t){l||(s&&G(s.$$.fragment,t),l=!0)},o(t){s&&V(s.$$.fragment,t),l=!1},d(t){t&&p(n),s&&tt(s,t)}}}function rn(t){let e,n,l,i,r,s,c,a,u,b,w,x,_,E,C,D,S,A,I,N=t[1].info.shared_with+"",O=t[4].length>0&&function(t){let e,n,l=t[4],o=[];for(let e=0;e<l.length;e+=1)o[e]=nn(en(t,l,e));return{c(){e=h("div"),n=h("ul");for(let t=0;t<o.length;t+=1)o[t].c();y(n,"class","list pl0"),y(e,"class","nicebox")},m(t,l){d(t,e,l),f(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,e){if(16&e){let i;for(l=t[4],i=0;i<l.length;i+=1){const r=en(t,l,i);o[i]?o[i].p(r,e):(o[i]=nn(r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=l.length}},d(t){t&&p(e),m(o,t)}}}(t),L=t[0].length>0&&ln(t);return{c(){e=h("div"),n=h("div"),l=h("div"),i=h("button"),i.textContent="Edit list",r=v(),s=h("button"),c=g("View ("),a=g(N),u=g(")"),b=v(),w=h("div"),x=h("h1"),x.textContent=`${t[3]}`,_=v(),E=h("p"),C=g(t[2]),D=v(),O&&O.c(),S=v(),L&&L.c(),y(n,"class","pl0 measure center"),y(e,"class","pa3 pa5-ns")},m(p,m,h){d(p,e,m),f(e,n),f(n,l),f(l,i),f(l,r),f(l,s),f(s,c),f(s,a),f(s,u),f(n,b),f(n,w),f(w,x),f(w,_),f(w,E),f(E,C),f(n,D),O&&O.m(n,null),f(n,S),L&&L.m(n,null),A=!0,h&&o(I),I=[$(i,"click",t[6]),$(s,"click",t[7])]},p(t,[e]){(!A||2&e)&&N!==(N=t[1].info.shared_with+"")&&k(a,N),(!A||4&e)&&k(C,t[2]),t[4].length>0&&O.p(t,e),t[0].length>0?L?(L.p(t,e),1&e&&G(L,1)):(L=ln(t),L.c(),G(L,1),L.m(n,null)):L&&(X(),V(L,1,1,()=>{L=null}),W())},i(t){A||(G(L),A=!0)},o(t){V(L),A=!1},d(t){t&&p(e),O&&O.d(),L&&L.d(),o(I)}}}function sn(t,e,n){let{aList:l={}}=e,{uuid:o=""}=e,{info:i={title:"",labels:[]}}=e,{data:r=[]}=e,s=i.title,c=i.labels,a=i.type,u={v1:He,v2:Xe,v3:Ve,v4:Ze},f=u[a];return t.$set=t=>{"aList"in t&&n(1,l=t.aList),"uuid"in t&&n(2,o=t.uuid),"info"in t&&n(8,i=t.info),"data"in t&&n(0,r=t.data)},[r,l,o,s,c,f,function(){const t=JSON.parse(JSON.stringify(l));ge.add(t),oe.edit(o)},function(){const t=Ft();window.open(`${t}/alist/${l.uuid}.html`,"_blank")},i,a,u,function(t,e,l,o){l[o]=t,n(0,r)}]}class cn extends lt{constructor(t){super(),nt(this,t,sn,rn,r,{aList:1,uuid:2,info:8,data:0})}}function an(e){let n;return{c(){n=h("p"),n.textContent="Not found"},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function un(t){let n;const l=[{aList:t[1]},t[1]];let o={};for(let t=0;t<l.length;t+=1)o=e(o,l[t]);const i=new cn({props:o});return{c(){Q(i.$$.fragment)},m(t,e){Z(i,t,e),n=!0},p(t,e){const n=2&e?function(t,e){const n={},l={},o={$$scope:1};let i=t.length;for(;i--;){const r=t[i],s=e[i];if(s){for(const t in r)t in s||(l[t]=1);for(const t in s)o[t]||(n[t]=s[t],o[t]=1);t[i]=s}else for(const t in r)o[t]=1}for(const t in l)t in n||(n[t]=void 0);return n}(l,[{aList:t[1]},(o=t[1],"object"==typeof o&&null!==o?o:{})]):{};var o;i.$set(n)},i(t){n||(G(i.$$.fragment,t),n=!0)},o(t){V(i.$$.fragment,t),n=!1},d(t){tt(i,t)}}}function fn(t){let e,n,l,o;const i=[un,an],r=[];function s(t,e){return t[0]?0:1}return e=s(t),n=r[e]=i[e](t),{c(){n.c(),l=b()},m(t,n){r[e].m(t,n),d(t,l,n),o=!0},p(t,[o]){let c=e;e=s(t),e===c?r[e].p(t,o):(X(),V(r[c],1,1,()=>{r[c]=null}),W(),n=r[e],n||(n=r[e]=i[e](t),n.c()),G(n,1),n.m(l.parentNode,l))},i(t){o||(G(n),o=!0)},o(t){V(n),o=!1},d(t){r[e].d(t),t&&p(l)}}}function dn(t,e,n){let{params:l={}}=e;const o=fe.find(l.uuid);let i;return console.log(o),t.$set=t=>{"params"in t&&n(2,l=t.params)},n(0,i=o&&o.info&&o.data),[i,o,l]}function pn(e){let n,l,o;return{c(){n=h("div"),l=h("input"),y(l,"placeholder","Title"),y(l,"class","svelte-1qimety"),y(n,"class","container svelte-1qimety")},m(t,i,r){d(t,n,i),f(n,l),_(l,e[0]),r&&o(),o=$(l,"input",e[1])},p(t,[e]){1&e&&l.value!==t[0]&&_(l,t[0])},i:t,o:t,d(t){t&&p(n),o()}}}function mn(t,e,n){let{title:l}=e;return t.$set=t=>{"title"in t&&n(0,l=t.title)},[l,function(){l=this.value,n(0,l)}]}class hn extends lt{constructor(t){super(),nt(this,t,mn,pn,r,{title:0})}}function gn(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function vn(t,e,n){t.dispatchEvent(new CustomEvent("tap",{detail:{x:e,y:n}}))}function bn(t){const e=gn(t.currentTarget,"keydown",t=>{32===t.which&&vn(t.currentTarget,null,null)}),n=gn(t.currentTarget,"blur",t=>{e(),n()})}function $n(t){return"BUTTON"===t.tagName||"button"===t.type}const wn="function"==typeof PointerEvent?function(t){const e=gn(t,"pointerdown",(function(e){if(t.disabled)return;const{clientX:n,clientY:l}=e,o=gn(t,"pointerup",e=>{Math.abs(e.clientX-n)>5||Math.abs(e.clientY-l)>5||(vn(t,e.clientX,e.clientY),o())});setTimeout(o,300)})),n=$n(t)&&gn(t,"focus",bn);return{destroy(){e(),n&&n()}}}:function(t){let e,n=!0;const l=gn(t,"mousedown",(function(l){const{clientX:o,clientY:i}=l,r=gn(t,"mouseup",e=>{n&&(Math.abs(e.clientX-o)>5||Math.abs(e.clientY-i)>5||(vn(t,e.clientX,e.clientY),r()))});clearTimeout(e),setTimeout(r,300)})),o=gn(t,"touchstart",(function(l){if(1!==l.changedTouches.length)return;if(t.disabled)return;const o=l.changedTouches[0],{identifier:i,clientX:r,clientY:s}=o,c=gn(t,"touchend",l=>{const o=Array.from(l.changedTouches).find(t=>t.identifier===i);o&&(Math.abs(o.clientX-r)>5||Math.abs(o.clientY-s)>5||(vn(t,o.clientX,o.clientY),n=!1,e=setTimeout(()=>{n=!0},350)))});setTimeout(c,300)})),i=$n(t)&&gn(t,"focus",bn);return{destroy(){l(),o(),i&&i()}}};function yn(t,e,n){const l=t.slice();return l[19]=e[n],l[21]=n,l}function xn(t,e,n){const l=t.slice();return l[19]=e[n],l[22]=e,l[23]=n,l}function kn(t){let e,n,l,i,r,s,c,a=t[0],u=[];for(let e=0;e<a.length;e+=1)u[e]=_n(xn(t,a,e));return{c(){for(let t=0;t<u.length;t+=1)u[t].c();e=v(),n=h("button"),n.textContent="New",l=v(),i=h("button"),i.textContent="Remove all",r=v(),s=h("button"),s.textContent="Change Order"},m(a,f,p){for(let t=0;t<u.length;t+=1)u[t].m(a,f);d(a,e,f),d(a,n,f),d(a,l,f),d(a,i,f),d(a,r,f),d(a,s,f),p&&o(c),c=[$(n,"click",t[4]),$(i,"click",t[6]),$(s,"click",t[7])]},p(t,n){if(33&n){let l;for(a=t[0],l=0;l<a.length;l+=1){const o=xn(t,a,l);u[l]?u[l].p(o,n):(u[l]=_n(o),u[l].c(),u[l].m(e.parentNode,e))}for(;l<u.length;l+=1)u[l].d(1);u.length=a.length}},d(t){m(u,t),t&&p(e),t&&p(n),t&&p(l),t&&p(i),t&&p(r),t&&p(s),o(c)}}}function _n(t){let e,n,l,i,r;function s(){t[16].call(n,t[19],t[22],t[23])}function c(...e){return t[17](t[19],...e)}return{c(){e=h("div"),n=h("input"),l=v(),i=h("button"),i.textContent="x",y(n,"class","item item-left svelte-1lkh1k0"),y(i,"class","item svelte-1lkh1k0"),y(e,"class","item-container svelte-1lkh1k0")},m(a,u,p){d(a,e,u),f(e,n),_(n,t[19]),f(e,l),f(e,i),p&&o(r),r=[$(n,"input",s),$(i,"click",c)]},p(e,l){t=e,1&l&&n.value!==t[19]&&_(n,t[19])},d(t){t&&p(e),o(r)}}}function En(t){let e,n,l,o=t[0],i=[];for(let e=0;e<o.length;e+=1)i[e]=Cn(yn(t,o,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=v(),n=h("button"),n.textContent=`\n      Finished ordering? (${t[3]})\n    `},m(o,r,s){for(let t=0;t<i.length;t+=1)i[t].m(o,r);d(o,e,r),d(o,n,r),s&&l(),l=$(n,"click",t[7])},p(t,n){if(1793&n){let l;for(o=t[0],l=0;l<o.length;l+=1){const r=yn(t,o,l);i[l]?i[l].p(r,n):(i[l]=Cn(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}},d(t){m(i,t),t&&p(e),t&&p(n),l()}}}function Cn(t){let e,n,l,i,r,s;return{c(){e=h("div"),n=h("input"),y(n,"class","item item-left svelte-1lkh1k0"),n.value=l=t[19],n.disabled=!0,y(e,"draggable","true"),y(e,"class","dropzone item-container svelte-1lkh1k0"),y(e,"data-index",i=t[21])},m(l,i,c){d(l,e,i),f(e,n),c&&o(s),s=[$(e,"dragstart",t[8]),$(e,"dragover",Sn),$(e,"drop",t[9]),u(r=wn.call(null,e)),$(e,"tap",t[10])]},p(t,e){1&e&&l!==(l=t[19])&&n.value!==l&&(n.value=l)},d(t){t&&p(e),o(s)}}}function Dn(e){let n,l,o,i,r=!e[2]&&kn(e),s=e[2]&&En(e);return{c(){n=h("h1"),n.textContent="Items",l=v(),o=h("div"),r&&r.c(),i=v(),s&&s.c()},m(t,c){d(t,n,c),d(t,l,c),d(t,o,c),r&&r.m(o,null),f(o,i),s&&s.m(o,null),e[18](o)},p(t,[e]){t[2]?r&&(r.d(1),r=null):r?r.p(t,e):(r=kn(t),r.c(),r.m(o,i)),t[2]?s?s.p(t,e):(s=En(t),s.c(),s.m(o,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&p(n),t&&p(l),t&&p(o),r&&r.d(),s&&s.d(),e[18](null)}}}function Sn(t){t.preventDefault()}function An(t,e,n){const l={nothing:"",newItem:"When an item is added"},o=Et(),i=o?"tap to swap":"drag and drop to swap",r={from:-1,fromElement:null,to:-1,toElement:null};let s,c=l.nothing,a=!1,{listData:u}=e,f=_t(r);function d(t){n(0,u=u.filter(e=>e!==t)),u.length||n(0,u=[_t("")])}I(()=>{if(c===l.newItem){let t=s.querySelectorAll(".item-container");t[t.length-1].querySelector("input:first-child").focus(),c=l.nothing}});return t.$set=t=>{"listData"in t&&n(0,u=t.listData)},[u,s,a,i,function(){n(0,u=u.concat(_t(""))),c=l.newItem},d,function(){n(0,u=[_t("")])},function(t){u.length<=1?alert("nothing to swap"):(n(2,a=!a),a&&(f=_t(r)))},function(t){f=_t(r),f.from=t.target.getAttribute("data-index")},function(t){t.preventDefault(),f.to=t.target.getAttribute("data-index"),null==f.to&&(f.to=t.target.closest("[draggable]").getAttribute("data-index"));let e=u[f.from],l=u[f.to];n(0,u[f.from]=l,u),n(0,u[f.to]=e,u)},function(t){t.preventDefault();let e=t.target.getAttribute("data-index");if(null===e)return void(f=_t(r));if(-1===f.from)return f.fromElement=t.target,f.fromElement.style["border-left"]="solid green",void(f.from=e);if(f.from===e)return f.fromElement.style.border="",void(f=_t(r));f.to=e;let l=u[f.from],o=u[f.to];n(0,u[f.from]=o,u),n(0,u[f.to]=l,u),f.fromElement.style.border="",f.fromElement.style["border-radius"]="0px",f=_t(r)},c,f,l,o,r,function(t,e,l){e[l]=this.value,n(0,u)},t=>d(t),function(t){T[t?"unshift":"push"](()=>{n(1,s=t)})}]}class In extends lt{constructor(t){super(),nt(this,t,An,Dn,r,{listData:0})}}function Nn(t,e,n){const l=t.slice();return l[21]=e[n],l[23]=n,l}function On(t,e,n){const l=t.slice();return l[21]=e[n],l[24]=e,l[25]=n,l}function Ln(t){let e,n,l,i,r,s,c,a=t[0],u=[];for(let e=0;e<a.length;e+=1)u[e]=Tn(On(t,a,e));return{c(){for(let t=0;t<u.length;t+=1)u[t].c();e=v(),n=h("button"),n.textContent="New",l=v(),i=h("button"),i.textContent="Remove all",r=v(),s=h("button"),s.textContent="Change Order"},m(a,f,p){for(let t=0;t<u.length;t+=1)u[t].m(a,f);d(a,e,f),d(a,n,f),d(a,l,f),d(a,i,f),d(a,r,f),d(a,s,f),p&&o(c),c=[$(n,"click",t[4]),$(i,"click",t[6]),$(s,"click",t[7])]},p(t,n){if(33&n){let l;for(a=t[0],l=0;l<a.length;l+=1){const o=On(t,a,l);u[l]?u[l].p(o,n):(u[l]=Tn(o),u[l].c(),u[l].m(e.parentNode,e))}for(;l<u.length;l+=1)u[l].d(1);u.length=a.length}},d(t){m(u,t),t&&p(e),t&&p(n),t&&p(l),t&&p(i),t&&p(r),t&&p(s),o(c)}}}function Tn(t){let e,n,l,i,r,s,c,a,u;function m(){t[17].call(l,t[21])}function g(){t[18].call(r,t[21])}function b(...e){return t[19](t[21],...e)}return{c(){e=h("div"),n=h("div"),l=h("input"),i=v(),r=h("input"),s=v(),c=h("div"),a=h("button"),a.textContent="x",y(l,"placeholder","from"),y(l,"class","item item-left svelte-1lu9t4y"),y(r,"placeholder","to"),y(r,"class","item item-left svelte-1lu9t4y"),y(n,"class","flex flex-column item-left svelte-1lu9t4y"),y(a,"class","item svelte-1lu9t4y"),y(c,"class","flex flex-column"),y(e,"class","item-container pv2 bb b--black-05 svelte-1lu9t4y")},m(p,h,v){d(p,e,h),f(e,n),f(n,l),_(l,t[21].from),f(n,i),f(n,r),_(r,t[21].to),f(e,s),f(e,c),f(c,a),v&&o(u),u=[$(l,"input",m),$(r,"input",g),$(a,"click",b)]},p(e,n){t=e,1&n&&l.value!==t[21].from&&_(l,t[21].from),1&n&&r.value!==t[21].to&&_(r,t[21].to)},d(t){t&&p(e),o(u)}}}function jn(t){let e,n,l,o=t[0],i=[];for(let e=0;e<o.length;e+=1)i[e]=qn(Nn(t,o,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=v(),n=h("button"),n.textContent=`\n      Finished ordering? (${t[3]})\n    `},m(o,r,s){for(let t=0;t<i.length;t+=1)i[t].m(o,r);d(o,e,r),d(o,n,r),s&&l(),l=$(n,"click",t[7])},p(t,n){if(1793&n){let l;for(o=t[0],l=0;l<o.length;l+=1){const r=Nn(t,o,l);i[l]?i[l].p(r,n):(i[l]=qn(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}},d(t){m(i,t),t&&p(e),t&&p(n),l()}}}function qn(t){let e,n,l,i,r,s,c,a,m;return{c(){e=h("div"),n=h("input"),i=v(),r=h("input"),y(n,"placeholder","from"),y(n,"class","item item-left svelte-1lu9t4y"),n.value=l=t[21].from,n.disabled=!0,y(r,"placeholder","to"),y(r,"class","item item-left svelte-1lu9t4y"),r.value=s=t[21].to,r.disabled=!0,y(e,"draggable","true"),y(e,"class","dropzone item-container svelte-1lu9t4y"),y(e,"data-index",c=t[23])},m(l,s,c){d(l,e,s),f(e,n),f(e,i),f(e,r),c&&o(m),m=[$(e,"dragstart",t[8]),$(e,"dragover",Mn),$(e,"drop",t[9]),u(a=wn.call(null,e)),$(e,"tap",t[10])]},p(t,e){1&e&&l!==(l=t[21].from)&&n.value!==l&&(n.value=l),1&e&&s!==(s=t[21].to)&&r.value!==s&&(r.value=s)},d(t){t&&p(e),o(m)}}}function zn(e){let n,l,o,i,r=!e[2]&&Ln(e),s=e[2]&&jn(e);return{c(){n=h("h1"),n.textContent="Items",l=v(),o=h("div"),r&&r.c(),i=v(),s&&s.c()},m(t,c){d(t,n,c),d(t,l,c),d(t,o,c),r&&r.m(o,null),f(o,i),s&&s.m(o,null),e[20](o)},p(t,[e]){t[2]?r&&(r.d(1),r=null):r?r.p(t,e):(r=Ln(t),r.c(),r.m(o,i)),t[2]?s?s.p(t,e):(s=jn(t),s.c(),s.m(o,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&p(n),t&&p(l),t&&p(o),r&&r.d(),s&&s.d(),e[20](null)}}}function Mn(t){t.preventDefault()}function Pn(t,e,n){const l={nothing:"",newItem:"When an item is added"},o=Et(),i=o?"tap to swap":"drag and drop to swap",r={from:"",to:""},s={from:-1,fromElement:null,to:-1,toElement:null};let c,a=l.nothing,u=!1,{listData:f}=e,d=_t(s);function p(t){n(0,f=f.filter(e=>e!==t)),f.length||n(0,f=[_t(r)])}I(()=>{if(a===l.newItem){let t=c.querySelectorAll(".item-container");t[t.length-1].querySelector("input:first-child").focus(),a=l.nothing}});return t.$set=t=>{"listData"in t&&n(0,f=t.listData)},[f,c,u,i,function(){n(0,f=f.concat(_t(r))),a=l.newItem},p,function(){n(0,f=[_t(r)])},function(t){f.length<=1?alert("nothing to swap"):(n(2,u=!u),u&&(d=_t(s)))},function(t){d=_t(s),d.from=t.target.getAttribute("data-index")},function(t){t.preventDefault(),d.to=t.target.getAttribute("data-index"),null==d.to&&(d.to=t.target.closest("[draggable]").getAttribute("data-index"));let e=f[d.from],l=f[d.to];n(0,f[d.from]=l,f),n(0,f[d.to]=e,f)},function(t){t.preventDefault();let e=t.target.getAttribute("data-index");if(null===e)return void(d=_t(s));if(-1===d.from)return d.fromElement=t.target,d.fromElement.style["border-left"]="solid green",void(d.from=e);if(d.from===e)return d.fromElement.style.border="",void(d=_t(s));d.to=e;let l=f[d.from],o=f[d.to];n(0,f[d.from]=o,f),n(0,f[d.to]=l,f),d.fromElement.style.border="",d.fromElement.style["border-radius"]="0px",d=_t(s)},a,d,l,o,r,s,function(t){t.from=this.value,n(0,f)},function(t){t.to=this.value,n(0,f)},t=>p(t),function(t){T[t?"unshift":"push"](()=>{n(1,c=t)})}]}class Fn extends lt{constructor(t){super(),nt(this,t,Pn,zn,r,{listData:0})}}function Rn(e){let n;return{c(){n=h("span"),n.textContent=""},m(t,e){d(t,n,e)},p:t,d(t){t&&p(n)}}}function Un(e){let n,l;return{c(){n=h("button"),n.textContent="x",y(n,"class","item")},m(t,o,i){d(t,n,o),i&&l(),l=$(n,"click",e[2])},p:t,d(t){t&&p(n),l()}}}function Yn(e){let n,l,i,r,s,c,a,u,m,g,b,w,k,E,C;function D(t,e){return void 0===t[1]?Un:Rn}let S=D(e),A=S(e);return{c(){n=h("div"),l=h("div"),i=h("input"),r=v(),s=h("div"),c=h("input"),a=v(),u=h("div"),m=h("input"),g=v(),b=h("div"),w=h("input"),k=v(),E=h("div"),A.c(),y(i,"placeholder","time"),i.disabled=e[1],y(i,"class","w-100 svelte-8nxndc"),y(l,"class","w-25 pa0 mr2"),y(c,"placeholder","distance"),y(c,"type","number"),c.disabled=e[1],y(c,"class","w-100 svelte-8nxndc"),y(s,"class","w-25 pa0 mr2"),y(m,"placeholder","/500m"),m.disabled=e[1],y(m,"class","w-100 svelte-8nxndc"),y(u,"class","w-25 pa0 mr2"),y(w,"placeholder","spm"),y(w,"type","number"),w.disabled=e[1],y(w,"class","w-100 svelte-8nxndc"),y(b,"class","w-25 pa0 mr2"),y(E,"class","pa0"),y(n,"class","flex pv0")},m(t,p,h){d(t,n,p),f(n,l),f(l,i),_(i,e[0].time),f(n,r),f(n,s),f(s,c),_(c,e[0].distance),f(n,a),f(n,u),f(u,m),_(m,e[0].p500),f(n,g),f(n,b),f(b,w),_(w,e[0].spm),f(n,k),f(n,E),A.m(E,null),h&&o(C),C=[$(i,"input",e[6]),$(c,"input",e[7]),$(m,"input",e[8]),$(w,"input",e[9])]},p(t,[e]){2&e&&(i.disabled=t[1]),1&e&&i.value!==t[0].time&&_(i,t[0].time),2&e&&(c.disabled=t[1]),1&e&&x(c.value)!==t[0].distance&&_(c,t[0].distance),2&e&&(m.disabled=t[1]),1&e&&m.value!==t[0].p500&&_(m,t[0].p500),2&e&&(w.disabled=t[1]),1&e&&x(w.value)!==t[0].spm&&_(w,t[0].spm),S===(S=D(t))&&A?A.p(t,e):(A.d(1),A=S(t),A&&(A.c(),A.m(E,null)))},i:t,o:t,d(t){t&&p(n),A.d(),o(C)}}}function Hn(t,e,n){let{disabled:l}=e,{index:o}=e,{splitIndex:i}=e,{split:r={time:"",distance:0,p500:"",spm:0}}=e;const s=N();return t.$set=t=>{"disabled"in t&&n(1,l=t.disabled),"index"in t&&n(3,o=t.index),"splitIndex"in t&&n(4,i=t.splitIndex),"split"in t&&n(0,r=t.split)},[r,l,()=>{n(0,r={time:"",distance:0,p500:"",spm:0}),s("click",{index:o,splitIndex:i})},o,i,s,function(){r.time=this.value,n(0,r)},function(){r.distance=x(this.value),n(0,r)},function(){r.p500=this.value,n(0,r)},function(){r.spm=x(this.value),n(0,r)}]}class Jn extends lt{constructor(t){super(),nt(this,t,Hn,Yn,r,{disabled:1,index:3,splitIndex:4,split:0})}}function Bn(t,e,n){const l=t.slice();return l[12]=e[n],l[13]=e,l[14]=n,l}function Xn(e){let n;return{c(){n=h("span"),n.textContent=""},m(t,e){d(t,n,e)},p:t,d(t){t&&p(n)}}}function Wn(e){let n,l;return{c(){n=h("button"),n.textContent="x",y(n,"class","item")},m(t,o,i){d(t,n,o),i&&l(),l=$(n,"click",e[4])},p:t,d(t){t&&p(n),l()}}}function Gn(t){let e,n,l,o;function i(e){t[10].call(null,e,t[12],t[13],t[14])}let r={disabled:t[1],splitIndex:t[14]};void 0!==t[12]&&(r.split=t[12]);const s=new Jn({props:r});return T.push(()=>K(s,"split",i)),s.$on("click",t[3]),{c(){e=h("div"),n=h("div"),Q(s.$$.fragment),y(n,"class","flex flex-column fl w-100"),y(e,"class","item-container pv1 svelte-w8u11v")},m(t,l){d(t,e,l),f(e,n),Z(s,n,null),o=!0},p(e,n){t=e;const o={};2&n&&(o.disabled=t[1]),!l&&1&n&&(l=!0,o.split=t[12],F(()=>l=!1)),s.$set(o)},i(t){o||(G(s.$$.fragment,t),o=!0)},o(t){V(s.$$.fragment,t),o=!1},d(t){t&&p(e),tt(s)}}}function Vn(e){let n,l,o;return{c(){n=h("div"),l=h("button"),l.textContent="Add Split",y(l,"class","mr1 ph1"),y(n,"class","flex pv1")},m(t,i,r){d(t,n,i),f(n,l),r&&o(),o=$(l,"click",e[11])},p:t,d(t){t&&p(n),o()}}}function Kn(t){let e,n,l,o,i,r,s,c,a,u,g,w,x,k,E,C,D;function S(t,e){return void 0===t[1]?Wn:Xn}let A=S(t),I=A(t);function N(e){t[9].call(null,e)}let O={disabled:t[1]};void 0!==t[0].overall&&(O.split=t[0].overall);const L=new Jn({props:O});T.push(()=>K(L,"split",N));let j=t[0].splits,q=[];for(let e=0;e<j.length;e+=1)q[e]=Gn(Bn(t,j,e));const z=t=>V(q[t],1,1,()=>{q[t]=null});let M=void 0===t[1]&&Vn(t);return{c(){e=h("div"),n=h("div"),l=h("div"),o=h("input"),i=v(),r=h("div"),I.c(),s=v(),c=h("div"),c.innerHTML='<div class="flex flex-column fl w-100"><div class="flex pv0"><div class="w-25 pa1 mr2"><span>time</span></div> \n      <div class="w-25 pa1 mr2"><span>meters</span></div> \n      <div class="w-25 pa1 mr2"><span>/500m</span></div> \n\n      <div class="w-25 pa1 mr2"><span>s/m</span></div> \n      <div class="pa0"><span class="item pa1"></span></div></div></div>',a=v(),u=h("div"),g=h("div"),Q(L.$$.fragment),x=v();for(let t=0;t<q.length;t+=1)q[t].c();k=v(),M&&M.c(),E=b(),y(o,"placeholder","when"),o.disabled=t[1],y(o,"class","svelte-w8u11v"),y(l,"class","pa0 w-100 mr2"),y(r,"class","pa0"),y(n,"class","flex fl w-100"),y(e,"class","item-container pv2 svelte-w8u11v"),y(c,"class","item-container pv2 svelte-w8u11v"),y(g,"class","flex flex-column pv2 fl w-100 bw1 bb bt b--moon-gray"),y(u,"class","item-container pv1 nodrag svelte-w8u11v")},m(p,m,h){d(p,e,m),f(e,n),f(n,l),f(l,o),_(o,t[0].when),f(n,i),f(n,r),I.m(r,null),d(p,s,m),d(p,c,m),d(p,a,m),d(p,u,m),f(u,g),Z(L,g,null),d(p,x,m);for(let t=0;t<q.length;t+=1)q[t].m(p,m);d(p,k,m),M&&M.m(p,m),d(p,E,m),C=!0,h&&D(),D=$(o,"input",t[8])},p(t,[e]){(!C||2&e)&&(o.disabled=t[1]),1&e&&o.value!==t[0].when&&_(o,t[0].when),A===(A=S(t))&&I?I.p(t,e):(I.d(1),I=A(t),I&&(I.c(),I.m(r,null)));const n={};if(2&e&&(n.disabled=t[1]),!w&&1&e&&(w=!0,n.split=t[0].overall,F(()=>w=!1)),L.$set(n),11&e){let n;for(j=t[0].splits,n=0;n<j.length;n+=1){const l=Bn(t,j,n);q[n]?(q[n].p(l,e),G(q[n],1)):(q[n]=Gn(l),q[n].c(),G(q[n],1),q[n].m(k.parentNode,k))}for(X(),n=j.length;n<q.length;n+=1)z(n);W()}void 0===t[1]?M?M.p(t,e):(M=Vn(t),M.c(),M.m(E.parentNode,E)):M&&(M.d(1),M=null)},i(t){if(!C){G(L.$$.fragment,t);for(let t=0;t<j.length;t+=1)G(q[t]);C=!0}},o(t){V(L.$$.fragment,t),q=q.filter(Boolean);for(let t=0;t<q.length;t+=1)V(q[t]);C=!1},d(t){t&&p(e),I.d(),t&&p(s),t&&p(c),t&&p(a),t&&p(u),tt(L),t&&p(x),m(q,t),t&&p(k),M&&M.d(t),t&&p(E),D()}}}function Qn(t,e,n){let{index:l}=e,{record:o}=e,{disabled:i}=e;const r=N(),s={time:"",distance:0,p500:"",spm:0};function c(){o.splits.push(_t(s)),n(0,o)}return t.$set=t=>{"index"in t&&n(5,l=t.index),"record"in t&&n(0,o=t.record),"disabled"in t&&n(1,i=t.disabled)},[o,i,c,function(t){const e=t.detail.splitIndex;o.splits.splice(e,1),n(0,o)},function(){r("removeRecord",l)},l,r,s,function(){o.when=this.value,n(0,o)},function(t){o.overall=t,n(0,o)},function(t,e,l,i){l[i]=t,n(0,o)},()=>c()]}class Zn extends lt{constructor(t){super(),nt(this,t,Qn,Kn,r,{index:5,record:0,disabled:1})}}function tl(t,e,n){const l=t.slice();return l[20]=e[n],l[21]=e,l[22]=n,l}function el(t,e,n){const l=t.slice();return l[20]=e[n],l[23]=e,l[24]=n,l}function nl(t){let e,n,l,i,r,s,c,a,u,g=t[0],b=[];for(let e=0;e<g.length;e+=1)b[e]=ll(el(t,g,e));const w=t=>V(b[t],1,1,()=>{b[t]=null});return{c(){for(let t=0;t<b.length;t+=1)b[t].c();e=v(),n=h("div"),l=h("button"),l.textContent="New",i=v(),r=h("button"),r.textContent="Remove all",s=v(),c=h("button"),c.textContent="Change Order",y(l,"class","mr1 ph1"),y(r,"class","mh1 ph1"),y(c,"class","mh1 ph1"),y(n,"class","flex pv1")},m(p,m,h){for(let t=0;t<b.length;t+=1)b[t].m(p,m);d(p,e,m),d(p,n,m),f(n,l),f(n,i),f(n,r),f(n,s),f(n,c),a=!0,h&&o(u),u=[$(l,"click",t[4]),$(r,"click",t[6]),$(c,"click",t[7])]},p(t,n){if(33&n){let l;for(g=t[0],l=0;l<g.length;l+=1){const o=el(t,g,l);b[l]?(b[l].p(o,n),G(b[l],1)):(b[l]=ll(o),b[l].c(),G(b[l],1),b[l].m(e.parentNode,e))}for(X(),l=g.length;l<b.length;l+=1)w(l);W()}},i(t){if(!a){for(let t=0;t<g.length;t+=1)G(b[t]);a=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)V(b[t]);a=!1},d(t){m(b,t),t&&p(e),t&&p(n),o(u)}}}function ll(t){let e,n;function l(e){t[17].call(null,e,t[20],t[23],t[24])}let o={index:t[24]};void 0!==t[20]&&(o.record=t[20]);const i=new Zn({props:o});return T.push(()=>K(i,"record",l)),i.$on("removeRecord",t[5]),{c(){Q(i.$$.fragment)},m(t,e){Z(i,t,e),n=!0},p(n,l){t=n;const o={};!e&&1&l&&(e=!0,o.record=t[20],F(()=>e=!1)),i.$set(o)},i(t){n||(G(i.$$.fragment,t),n=!0)},o(t){V(i.$$.fragment,t),n=!1},d(t){tt(i,t)}}}function ol(t){let e,n,l,o,i=t[0],r=[];for(let e=0;e<i.length;e+=1)r[e]=il(tl(t,i,e));const s=t=>V(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=v(),n=h("button"),n.textContent=`\n      Finished ordering? (${t[3]})\n    `},m(i,s,c){for(let t=0;t<r.length;t+=1)r[t].m(i,s);d(i,e,s),d(i,n,s),l=!0,c&&o(),o=$(n,"click",t[7])},p(t,n){if(1793&n){let l;for(i=t[0],l=0;l<i.length;l+=1){const o=tl(t,i,l);r[l]?(r[l].p(o,n),G(r[l],1)):(r[l]=il(o),r[l].c(),G(r[l],1),r[l].m(e.parentNode,e))}for(X(),l=i.length;l<r.length;l+=1)s(l);W()}},i(t){if(!l){for(let t=0;t<i.length;t+=1)G(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)V(r[t]);l=!1},d(t){m(r,t),t&&p(e),t&&p(n),o()}}}function il(t){let e,n,l,i,r,s;function c(e){t[18].call(null,e,t[20],t[21],t[22])}let a={disabled:"true",index:t[22]};void 0!==t[20]&&(a.record=t[20]);const f=new Zn({props:a});return T.push(()=>K(f,"record",c)),{c(){e=h("div"),Q(f.$$.fragment),y(e,"draggable","true"),y(e,"class","dropzone pv2 bb b--black-05"),y(e,"data-index",l=t[22])},m(n,l,c){d(n,e,l),Z(f,e,null),r=!0,c&&o(s),s=[$(e,"dragstart",t[8]),$(e,"dragover",sl),$(e,"drop",t[9]),u(i=wn.call(null,e)),$(e,"tap",t[10])]},p(e,l){t=e;const o={};!n&&1&l&&(n=!0,o.record=t[20],F(()=>n=!1)),f.$set(o)},i(t){r||(G(f.$$.fragment,t),r=!0)},o(t){V(f.$$.fragment,t),r=!1},d(t){t&&p(e),tt(f),o(s)}}}function rl(t){let e,n,l,o,i,r=!t[2]&&nl(t),s=t[2]&&ol(t);return{c(){e=h("h1"),e.textContent="Items",n=v(),l=h("div"),r&&r.c(),o=v(),s&&s.c()},m(c,a){d(c,e,a),d(c,n,a),d(c,l,a),r&&r.m(l,null),f(l,o),s&&s.m(l,null),t[19](l),i=!0},p(t,[e]){t[2]?r&&(X(),V(r,1,1,()=>{r=null}),W()):r?(r.p(t,e),4&e&&G(r,1)):(r=nl(t),r.c(),G(r,1),r.m(l,o)),t[2]?s?(s.p(t,e),4&e&&G(s,1)):(s=ol(t),s.c(),G(s,1),s.m(l,null)):s&&(X(),V(s,1,1,()=>{s=null}),W())},i(t){i||(G(r),G(s),i=!0)},o(t){V(r),V(s),i=!1},d(o){o&&p(e),o&&p(n),o&&p(l),r&&r.d(),s&&s.d(),t[19](null)}}}function sl(t){t.preventDefault()}function cl(t,e,n){let{listData:l}=e;const o={nothing:"",newItem:"When an item is added"},i=Et(),r=i?"tap to swap":"drag and drop to swap",s={when:"",overall:{time:"",distance:0,p500:"",spm:0},splits:[]},c={from:-1,fromElement:null,to:-1,toElement:null};let a,u=o.nothing,f=!1,d=_t(c);return I(()=>{u===o.newItem&&(u=o.nothing)}),t.$set=t=>{"listData"in t&&n(0,l=t.listData)},[l,a,f,r,function(){l.push(_t(s)),n(0,l),u=o.newItem},function(t){l.splice(t.detail.index,1),l.length||n(0,l=[_t(s)]),n(0,l)},function(){n(0,l=[_t(s)])},function(t){l.length<=1?alert("nothing to swap"):(n(2,f=!f),f&&(d=_t(c)))},function(t){d=_t(c),d.from=t.target.getAttribute("data-index")},function(t){t.preventDefault(),d.to=t.target.getAttribute("data-index"),null==d.to&&(d.to=t.target.closest("[draggable]").getAttribute("data-index"));let e=l[d.from],o=l[d.to];n(0,l[d.from]=o,l),n(0,l[d.to]=e,l)},function(t){t.preventDefault();let e=t.target.getAttribute("data-index");if(null===e)return void(d=_t(c));if(-1===d.from)return d.fromElement=t.target,d.fromElement.style["border-left"]="solid green",void(d.from=e);if(d.from===e)return d.fromElement.style.border="",void(d=_t(c));d.to=e;let o=l[d.from],i=l[d.to];n(0,l[d.from]=i,l),n(0,l[d.to]=o,l),d.fromElement.style.border="",d.fromElement.style["border-radius"]="0px",d=_t(c)},u,d,o,i,s,c,function(t,e,o,i){o[i]=t,n(0,l)},function(t,e,o,i){o[i]=t,n(0,l)},function(t){T[t?"unshift":"push"](()=>{n(1,a=t)})}]}class al extends lt{constructor(t){super(),nt(this,t,cl,rl,r,{listData:0})}}function ul(t,e,n){const l=t.slice();return l[23]=e[n],l[24]=e,l[25]=n,l}function fl(t,e,n){const l=t.slice();return l[23]=e[n],l[26]=e,l[27]=n,l}function dl(t){let e,n,l,i,r,s,c,a,u=t[0],g=[];for(let e=0;e<u.length;e+=1)g[e]=pl(fl(t,u,e));return{c(){for(let t=0;t<g.length;t+=1)g[t].c();e=v(),n=h("div"),l=h("button"),l.textContent="New",i=v(),r=h("button"),r.textContent="Remove all",s=v(),c=h("button"),c.textContent="Change Order",y(l,"class","mr1 ph1"),y(r,"class","mh1 ph1"),y(c,"class","mh1 ph1"),y(n,"class","flex pv1")},m(u,p,m){for(let t=0;t<g.length;t+=1)g[t].m(u,p);d(u,e,p),d(u,n,p),f(n,l),f(n,i),f(n,r),f(n,s),f(n,c),m&&o(a),a=[$(l,"click",t[4]),$(r,"click",t[6]),$(c,"click",t[7])]},p(t,n){if(33&n){let l;for(u=t[0],l=0;l<u.length;l+=1){const o=fl(t,u,l);g[l]?g[l].p(o,n):(g[l]=pl(o),g[l].c(),g[l].m(e.parentNode,e))}for(;l<g.length;l+=1)g[l].d(1);g.length=u.length}},d(t){m(g,t),t&&p(e),t&&p(n),o(a)}}}function pl(t){let e,n,l,i,r,s,c,a,u;function m(){t[17].call(l,t[23])}function g(){t[18].call(r,t[23])}function b(...e){return t[19](t[23],...e)}return{c(){e=h("div"),n=h("div"),l=h("textarea"),i=v(),r=h("input"),s=v(),c=h("div"),a=h("button"),a.textContent="x",y(l,"placeholder","content"),y(l,"class","item item-left svelte-1d8525f"),y(r,"placeholder","url"),y(r,"class","item item-left mv2 svelte-1d8525f"),y(n,"class","flex flex-column item-left svelte-1d8525f"),y(a,"class","item svelte-1d8525f"),y(c,"class","flex flex-column"),y(e,"class","item-container pv2 bb b--black-05 svelte-1d8525f")},m(p,h,v){d(p,e,h),f(e,n),f(n,l),_(l,t[23].content),f(n,i),f(n,r),_(r,t[23].url),f(e,s),f(e,c),f(c,a),v&&o(u),u=[$(l,"input",m),$(r,"input",g),$(a,"click",b)]},p(e,n){t=e,1&n&&_(l,t[23].content),1&n&&r.value!==t[23].url&&_(r,t[23].url)},d(t){t&&p(e),o(u)}}}function ml(t){let e,n,l,o=t[0],i=[];for(let e=0;e<o.length;e+=1)i[e]=hl(ul(t,o,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=v(),n=h("button"),n.textContent=`\n      Finished ordering? (${t[3]})\n    `},m(o,r,s){for(let t=0;t<i.length;t+=1)i[t].m(o,r);d(o,e,r),d(o,n,r),s&&l(),l=$(n,"click",t[7])},p(t,n){if(1793&n){let l;for(o=t[0],l=0;l<o.length;l+=1){const r=ul(t,o,l);i[l]?i[l].p(r,n):(i[l]=hl(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}},d(t){m(i,t),t&&p(e),t&&p(n),l()}}}function hl(t){let e,n,l,i,r,s,c,a;function m(){t[20].call(l,t[23])}function g(){t[21].call(r,t[23])}return{c(){e=h("div"),n=h("div"),l=h("textarea"),i=v(),r=h("input"),y(l,"placeholder","content"),y(l,"class","item item-left svelte-1d8525f"),l.disabled=!0,y(r,"placeholder","url"),y(r,"class","item item-left mv2 svelte-1d8525f"),r.disabled=!0,y(n,"class","flex flex-column item-left svelte-1d8525f"),y(e,"draggable","true"),y(e,"class","dropzone item-container pv2 bb b--black-05 svelte-1d8525f"),y(e,"data-index",s=t[25])},m(s,p,h){d(s,e,p),f(e,n),f(n,l),_(l,t[23].content),f(n,i),f(n,r),_(r,t[23].url),h&&o(a),a=[$(l,"input",m),$(r,"input",g),$(e,"dragstart",t[8]),$(e,"dragover",vl),$(e,"drop",t[9]),u(c=wn.call(null,e)),$(e,"tap",t[10])]},p(e,n){t=e,1&n&&_(l,t[23].content),1&n&&r.value!==t[23].url&&_(r,t[23].url)},d(t){t&&p(e),o(a)}}}function gl(e){let n,l,o,i,r=!e[2]&&dl(e),s=e[2]&&ml(e);return{c(){n=h("h1"),n.textContent="Items",l=v(),o=h("div"),r&&r.c(),i=v(),s&&s.c()},m(t,c){d(t,n,c),d(t,l,c),d(t,o,c),r&&r.m(o,null),f(o,i),s&&s.m(o,null),e[22](o)},p(t,[e]){t[2]?r&&(r.d(1),r=null):r?r.p(t,e):(r=dl(t),r.c(),r.m(o,i)),t[2]?s?s.p(t,e):(s=ml(t),s.c(),s.m(o,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&p(n),t&&p(l),t&&p(o),r&&r.d(),s&&s.d(),e[22](null)}}}function vl(t){t.preventDefault()}function bl(t,e,n){let{listData:l}=e;console.log("listData",l);const o={nothing:"",newItem:"When an item is added"},i=Et(),r=i?"tap to swap":"drag and drop to swap",s={content:"",url:""},c={from:-1,fromElement:null,to:-1,toElement:null};let a,u=o.nothing,f=!1,d=_t(c);function p(t){n(0,l=l.filter(e=>e!==t)),l.length||n(0,l=[_t(s)])}I(()=>{if(u===o.newItem){let t=a.querySelectorAll(".item-container");t[t.length-1].querySelector("textarea:first-child").focus(),u=o.nothing}});return t.$set=t=>{"listData"in t&&n(0,l=t.listData)},[l,a,f,r,function(){n(0,l=l.concat(_t(s))),u=o.newItem},p,function(){n(0,l=[_t(s)])},function(t){l.length<=1?alert("nothing to swap"):(n(2,f=!f),f&&(d=_t(c)))},function(t){d=_t(c),d.from=t.target.getAttribute("data-index")},function(t){t.preventDefault(),d.to=t.target.getAttribute("data-index"),null==d.to&&(d.to=t.target.closest("[draggable]").getAttribute("data-index"));let e=l[d.from],o=l[d.to];n(0,l[d.from]=o,l),n(0,l[d.to]=e,l)},function(t){t.preventDefault();let e=t.target.getAttribute("data-index");if(null===e)return void(d=_t(c));if(-1===d.from)return d.fromElement=t.target,d.fromElement.style["border-left"]="solid green",void(d.from=e);if(d.from===e)return d.fromElement.style.border="",void(d=_t(c));d.to=e;let o=l[d.from],i=l[d.to];n(0,l[d.from]=i,l),n(0,l[d.to]=o,l),d.fromElement.style.border="",d.fromElement.style["border-radius"]="0px",d=_t(c)},u,d,o,i,s,c,function(t){t.content=this.value,n(0,l)},function(t){t.url=this.value,n(0,l)},t=>p(t),function(t){t.content=this.value,n(0,l)},function(t){t.url=this.value,n(0,l)},function(t){T[t?"unshift":"push"](()=>{n(1,a=t)})}]}class $l extends lt{constructor(t){super(),nt(this,t,bl,gl,r,{listData:0})}}function wl(e){let n;return{c(){n=h("h1"),n.textContent="TODO"},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function yl(t,e,n){let{listData:l}=e;return console.log(l),t.$set=t=>{"listData"in t&&n(0,l=t.listData)},[l]}class xl extends lt{constructor(t){super(),nt(this,t,yl,wl,r,{listData:0})}}function kl(t,e,n){const l=t.slice();return l[9]=e[n],l}function _l(t){let e,n,l,o,i,r,s,c,a=t[1]&&""!==t[1].value&&El(t),u=t[0],g=[];for(let e=0;e<u.length;e+=1)g[e]=Cl(kl(t,u,e));return{c(){e=h("div"),n=h("input"),l=v(),o=h("button"),o.textContent="Add",i=v(),a&&a.c(),r=v(),s=h("div");for(let t=0;t<g.length;t+=1)g[t].c();y(n,"placeholder","Label"),y(n,"class","svelte-1mogb42"),y(s,"class","container svelte-1mogb42")},m(u,p,m){d(u,e,p),f(e,n),t[7](n),f(e,l),f(e,o),f(e,i),a&&a.m(e,null),d(u,r,p),d(u,s,p);for(let t=0;t<g.length;t+=1)g[t].m(s,null);m&&c(),c=$(o,"click",t[3])},p(t,n){if(t[1]&&""!==t[1].value?a?a.p(t,n):(a=El(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),17&n){let e;for(u=t[0],e=0;e<u.length;e+=1){const l=kl(t,u,e);g[e]?g[e].p(l,n):(g[e]=Cl(l),g[e].c(),g[e].m(s,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=u.length}},d(n){n&&p(e),t[7](null),a&&a.d(),n&&p(r),n&&p(s),m(g,n),c()}}}function El(e){let n,l;return{c(){n=h("button"),n.textContent="x"},m(t,o,i){d(t,n,o),i&&l(),l=$(n,"click",e[5])},p:t,d(t){t&&p(n),l()}}}function Cl(t){let e,n,l,o=t[9]+"";function i(...e){return t[8](t[9],...e)}return{c(){e=h("span"),n=g(o),y(e,"class","item svelte-1mogb42")},m(t,o,r){d(t,e,o),f(e,n),r&&l(),l=$(e,"click",i)},p(e,l){t=e,1&l&&o!==(o=t[9]+"")&&k(n,o)},d(t){t&&p(e),l()}}}function Dl(e){let n,l=!e[2]&&_l(e);return{c(){l&&l.c(),n=b()},m(t,e){l&&l.m(t,e),d(t,n,e)},p(t,[e]){t[2]?l&&(l.d(1),l=null):l?l.p(t,e):(l=_l(t),l.c(),l.m(n.parentNode,n))},i:t,o:t,d(t){l&&l.d(t),t&&p(n)}}}function Sl(t,e,n){let l,{labels:o=[]}=e;function i(t){n(1,l.value=t,l),l.focus()}let r=!1;return t.$set=t=>{"labels"in t&&n(0,o=t.labels)},[o,l,r,function(t){""!==l.value&&(n(0,o=o.filter(t=>t!==l.value).concat([l.value])),n(1,l.value="",l),l.focus())},i,function(){n(0,o=o.filter(t=>t!==l.value)),n(1,l.value="",l),l.focus()},function(){n(2,r=!r)},function(t){T[t?"unshift":"push"](()=>{n(1,l=t)})},t=>i(t)]}class Al extends lt{constructor(t){super(),nt(this,t,Sl,Dl,r,{labels:0})}}function Il(t){let e,n;function l(e){t[7].call(null,e)}let o={};void 0!==t[0].info.title&&(o.title=t[0].info.title);const i=new hn({props:o});return T.push(()=>K(i,"title",l)),{c(){Q(i.$$.fragment)},m(t,e){Z(i,t,e),n=!0},p(t,n){const l={};!e&&1&n&&(e=!0,l.title=t[0].info.title,F(()=>e=!1)),i.$set(l)},i(t){n||(G(i.$$.fragment,t),n=!0)},o(t){V(i.$$.fragment,t),n=!1},d(t){tt(i,t)}}}function Nl(t){let e,n;function l(e){t[8].call(null,e)}let o={};void 0!==t[0].info.labels&&(o.labels=t[0].info.labels);const i=new Al({props:o});return T.push(()=>K(i,"labels",l)),{c(){Q(i.$$.fragment)},m(t,e){Z(i,t,e),n=!0},p(t,n){const l={};!e&&1&n&&(e=!0,l.labels=t[0].info.labels,F(()=>e=!1)),i.$set(l)},i(t){n||(G(i.$$.fragment,t),n=!0)},o(t){V(i.$$.fragment,t),n=!1},d(t){tt(i,t)}}}function Ol(t){let e,n,l;function o(e){t[9].call(null,e)}var i=t[2];function r(t){let e={};return void 0!==t[0].data&&(e.listData=t[0].data),{props:e}}if(i){var s=new i(r(t));T.push(()=>K(s,"listData",o))}return{c(){s&&Q(s.$$.fragment),n=b()},m(t,e){s&&Z(s,t,e),d(t,n,e),l=!0},p(t,l){const c={};if(!e&&1&l&&(e=!0,c.listData=t[0].data,F(()=>e=!1)),i!==(i=t[2])){if(s){X();const t=s;V(t.$$.fragment,1,0,()=>{tt(t,1)}),W()}i?(s=new i(r(t)),T.push(()=>K(s,"listData",o)),Q(s.$$.fragment),G(s.$$.fragment,1),Z(s,n.parentNode,n)):s=null}else i&&s.$set(c)},i(t){l||(s&&G(s.$$.fragment,t),l=!0)},o(t){s&&V(s.$$.fragment,t),l=!1},d(t){t&&p(n),s&&tt(s,t)}}}function Ll(e){let n,l,i,r;return{c(){n=h("button"),n.textContent="Save",l=v(),i=h("button"),i.textContent="Cancel"},m(t,s,c){d(t,n,s),d(t,l,s),d(t,i,s),c&&o(r),r=[$(n,"click",e[5]),$(i,"click",e[3])]},p:t,d(t){t&&p(n),t&&p(l),t&&p(i),o(r)}}}function Tl(t){let e,n,l,i,r,s,c,a,u,m,b,w,x,k;return{c(){e=h("h2"),e.textContent="Share",n=v(),l=h("label"),i=h("input"),r=g("\n      Private"),s=v(),c=h("label"),a=h("input"),u=g("\n      Public"),m=v(),b=h("label"),w=h("input"),x=g("\n      Friends"),y(i,"type","radio"),i.__value="private",i.value=i.__value,t[11][1].push(i),y(a,"type","radio"),a.__value="public",a.value=a.__value,t[11][1].push(a),y(w,"type","radio"),w.__value="friends",w.value=w.__value,t[11][1].push(w)},m(p,h,g){d(p,e,h),d(p,n,h),d(p,l,h),f(l,i),i.checked=i.__value===t[0].info.shared_with,f(l,r),d(p,s,h),d(p,c,h),f(c,a),a.checked=a.__value===t[0].info.shared_with,f(c,u),d(p,m,h),d(p,b,h),f(b,w),w.checked=w.__value===t[0].info.shared_with,f(b,x),g&&o(k),k=[$(i,"change",t[10]),$(a,"change",t[12]),$(w,"change",t[13])]},p(t,e){1&e&&(i.checked=i.__value===t[0].info.shared_with),1&e&&(a.checked=a.__value===t[0].info.shared_with),1&e&&(w.checked=w.__value===t[0].info.shared_with)},d(r){r&&p(e),r&&p(n),r&&p(l),t[11][1].splice(t[11][1].indexOf(i),1),r&&p(s),r&&p(c),t[11][1].splice(t[11][1].indexOf(a),1),r&&p(m),r&&p(b),t[11][1].splice(t[11][1].indexOf(w),1),o(k)}}}function jl(t){let e;const n=new Lt({props:{$$slots:{default:[zl]},$$scope:{ctx:t}}});return{c(){Q(n.$$.fragment)},m(t,l){Z(n,t,l),e=!0},p(t,e){const l={};65537&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){V(n.$$.fragment,t),e=!1},d(t){tt(n,t)}}}function ql(t){let e,n,l,i,r,s,c,a,u,m;return{c(){e=h("h3"),e.textContent="Slideshow",n=v(),l=h("label"),i=h("input"),r=g("\n          Disable"),s=v(),c=h("label"),a=h("input"),u=g("\n          Enable"),y(i,"type","radio"),i.__value="0",i.value=i.__value,t[11][0].push(i),y(a,"type","radio"),a.__value="1",a.value=a.__value,t[11][0].push(a)},m(p,h,g){d(p,e,h),d(p,n,h),d(p,l,h),f(l,i),i.checked=i.__value===t[0].info.interact.slideshow,f(l,r),d(p,s,h),d(p,c,h),f(c,a),a.checked=a.__value===t[0].info.interact.slideshow,f(c,u),g&&o(m),m=[$(i,"change",t[14]),$(a,"change",t[15])]},p(t,e){1&e&&(i.checked=i.__value===t[0].info.interact.slideshow),1&e&&(a.checked=a.__value===t[0].info.interact.slideshow)},d(r){r&&p(e),r&&p(n),r&&p(l),t[11][0].splice(t[11][0].indexOf(i),1),r&&p(s),r&&p(c),t[11][0].splice(t[11][0].indexOf(a),1),o(m)}}}function zl(t){let e,n,l;const o=new Lt({props:{$$slots:{default:[ql]},$$scope:{ctx:t}}});return{c(){e=h("h2"),e.textContent="Interact",n=v(),Q(o.$$.fragment)},m(t,i){d(t,e,i),d(t,n,i),Z(o,t,i),l=!0},p(t,e){const n={};65537&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){l||(G(o.$$.fragment,t),l=!0)},o(t){V(o.$$.fragment,t),l=!1},d(t){t&&p(e),t&&p(n),tt(o,t)}}}function Ml(e){let n,l;return{c(){n=h("button"),n.textContent="Delete this list forever"},m(t,o,i){d(t,n,o),i&&l(),l=$(n,"click",e[4])},p:t,d(t){t&&p(n),l()}}}function Pl(t){let e,n,l;const o=new Lt({props:{$$slots:{default:[Ml]},$$scope:{ctx:t}}});return{c(){e=h("h1"),e.textContent="Danger",n=v(),Q(o.$$.fragment)},m(t,i){d(t,e,i),d(t,n,i),Z(o,t,i),l=!0},p(t,e){const n={};65536&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){l||(G(o.$$.fragment,t),l=!0)},o(t){V(o.$$.fragment,t),l=!1},d(t){t&&p(e),t&&p(n),tt(o,t)}}}function Fl(t){let e,n,l,o,i;const r=new Lt({props:{$$slots:{default:[Tl]},$$scope:{ctx:t}}});let s=t[1]&&jl(t);const c=new Lt({props:{$$slots:{default:[Pl]},$$scope:{ctx:t}}});return{c(){e=h("h1"),e.textContent="Advanced",n=v(),Q(r.$$.fragment),l=v(),s&&s.c(),o=v(),Q(c.$$.fragment)},m(t,a){d(t,e,a),d(t,n,a),Z(r,t,a),d(t,l,a),s&&s.m(t,a),d(t,o,a),Z(c,t,a),i=!0},p(t,e){const n={};65537&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n),t[1]?s?(s.p(t,e),2&e&&G(s,1)):(s=jl(t),s.c(),G(s,1),s.m(o.parentNode,o)):s&&(X(),V(s,1,1,()=>{s=null}),W());const l={};65536&e&&(l.$$scope={dirty:e,ctx:t}),c.$set(l)},i(t){i||(G(r.$$.fragment,t),G(s),G(c.$$.fragment,t),i=!0)},o(t){V(r.$$.fragment,t),V(s),V(c.$$.fragment,t),i=!1},d(t){t&&p(e),t&&p(n),tt(r,t),t&&p(l),s&&s.d(t),t&&p(o),tt(c,t)}}}function Rl(t){let e,n,l,o,i;const r=new Lt({props:{$$slots:{default:[Il]},$$scope:{ctx:t}}}),s=new Lt({props:{$$slots:{default:[Nl]},$$scope:{ctx:t}}}),c=new Lt({props:{$$slots:{default:[Ol]},$$scope:{ctx:t}}}),a=new Lt({props:{$$slots:{default:[Ll]},$$scope:{ctx:t}}}),u=new Lt({props:{$$slots:{default:[Fl]},$$scope:{ctx:t}}});return{c(){Q(r.$$.fragment),e=v(),Q(s.$$.fragment),n=v(),Q(c.$$.fragment),l=v(),Q(a.$$.fragment),o=v(),Q(u.$$.fragment)},m(t,f){Z(r,t,f),d(t,e,f),Z(s,t,f),d(t,n,f),Z(c,t,f),d(t,l,f),Z(a,t,f),d(t,o,f),Z(u,t,f),i=!0},p(t,[e]){const n={};65537&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n);const l={};65537&e&&(l.$$scope={dirty:e,ctx:t}),s.$set(l);const o={};65537&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o);const i={};65536&e&&(i.$$scope={dirty:e,ctx:t}),a.$set(i);const f={};65539&e&&(f.$$scope={dirty:e,ctx:t}),u.$set(f)},i(t){i||(G(r.$$.fragment,t),G(s.$$.fragment,t),G(c.$$.fragment,t),G(a.$$.fragment,t),G(u.$$.fragment,t),i=!0)},o(t){V(r.$$.fragment,t),V(s.$$.fragment,t),V(c.$$.fragment,t),V(a.$$.fragment,t),V(u.$$.fragment,t),i=!1},d(t){tt(r,t),t&&p(e),tt(s,t),t&&p(n),tt(c,t),t&&p(l),tt(a,t),t&&p(o),tt(u,t)}}}function Ul(t,e,n){let{aList:l}=e,o={v1:In,v2:Fn,v3:al,v4:$l},i=Object.keys(o).filter(t=>l.info.type===t).reduce((t,e)=>o[e],xl);l.info.hasOwnProperty("interact")&&l.info.interact.hasOwnProperty("slideshow")||(l.info.interact={slideshow:"0"});let r;return t.$set=t=>{"aList"in t&&n(0,l=t.aList)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=l&&"v1"===l.info.type),1&t.$$.dirty&&ge.update(l)},[l,r,i,function(){ge.remove(l.uuid),oe.view(l.uuid)},async function(){const t=await async function(t){const e=Ft()+"/api/v1/alist/"+t,n=await fetch(e,{method:"DELETE",headers:Rt()}),l=await n.json();if(400===n.status||200===n.status||404===n.status)return{status:n.status,body:l};throw new Error("Unexpected response from the server when deleting a list")}(l.uuid);if(200!==t.status)return alert("failed try again"),void console.log("status from server was",t.status);fe.remove(l.uuid),ge.remove(l.uuid),bt("/list/deleted")},async function(){const t=await async function(t){const e={status:400,data:{}},n=Ft()+"/api/v1/alist/"+t.uuid,l=await fetch(n,{method:"PUT",headers:Rt(),body:JSON.stringify(t)}),o=await l.json();switch(l.status){case 200:case 403:case 400:return e.status=l.status,e.data=o,e}throw new Error("Unexpected response from the server")}(l);if(200!==t.status)return alert("failed try again"),void console.log("status from server was",t.status);try{ge.remove(l.uuid),fe.update(l),oe.view(l.uuid)}catch(t){alert("failed to clean up your edits")}},o,function(t){l.info.title=t,n(0,l)},function(t){l.info.labels=t,n(0,l)},function(t){l.data=t,n(0,l)},function(){l.info.shared_with=this.__value,n(0,l)},[[],[]],function(){l.info.shared_with=this.__value,n(0,l)},function(){l.info.shared_with=this.__value,n(0,l)},function(){l.info.interact.slideshow=this.__value,n(0,l)},function(){l.info.interact.slideshow=this.__value,n(0,l)}]}class Yl extends lt{constructor(t){super(),nt(this,t,Ul,Rl,r,{aList:0})}}function Hl(e){let n,l,o,i,r=e[0].uuid+"";return{c(){n=h("p"),l=g("list uuid is\n    "),o=h("span"),i=g(r)},m(t,e){d(t,n,e),f(n,l),f(n,o),f(o,i)},p(t,e){1&e&&r!==(r=t[0].uuid+"")&&k(i,r)},i:t,o:t,d(t){t&&p(n)}}}function Jl(e){let n;const l=new Yl({props:{aList:e[2]}});return{c(){Q(l.$$.fragment)},m(t,e){Z(l,t,e),n=!0},p:t,i(t){n||(G(l.$$.fragment,t),n=!0)},o(t){V(l.$$.fragment,t),n=!1},d(t){tt(l,t)}}}function Bl(t){let e,n,l,o;const i=[Jl,Hl],r=[];function s(t,e){return t[1]?0:1}return e=s(t),n=r[e]=i[e](t),{c(){n.c(),l=b()},m(t,n){r[e].m(t,n),d(t,l,n),o=!0},p(t,[o]){let c=e;e=s(t),e===c?r[e].p(t,o):(X(),V(r[c],1,1,()=>{r[c]=null}),W(),n=r[e],n||(n=r[e]=i[e](t),n.c()),G(n,1),n.m(l.parentNode,l))},i(t){o||(G(n),o=!0)},o(t){V(n),o=!1},d(t){r[e].d(t),t&&p(l)}}}function Xl(t,e,n){let{params:l={}}=e;const o=ge.find(l.uuid);let i;return t.$set=t=>{"params"in t&&n(0,l=t.params)},n(1,i=!!o),[l,i,o]}function Wl(e){let n;return{c(){n=h("p"),n.textContent="The list, which we wont speak mention, has been deleted forever."},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}const{subscribe:Gl,set:Vl,update:Kl}=at({gitHash:"na",gitDate:"na",version:"na",url:"https://github.com/freshteapot/learnalist-api"}),Ql=at(!1),Zl=at("");var to={subscribe:Gl,set:Vl,loading:Ql,error:Zl,async get(t){console.log("Not here");try{Zl.set(""),Ql.set(!0);const t=await async function(){const t=Ft()+"/api/v1/version",e=await fetch(t),n=await e.json();if(e.ok)return n;throw new Error("Failed to get learnalist server version information")}();return Ql.set(!1),Vl(t),t}catch(t){Ql.set(!1),Vl({gitHash:"na",gitDate:"na",version:"na",url:"https://github.com/freshteapot/learnalist-api"}),Zl.set(`Error has been occurred. Details: ${t.message}`)}}};function eo(t){let e,n,l,o,i,r,s,c,a,u,m,b,$,w,x,_,E,C=t[2].version+"",D=t[2].gitHash+"",S=t[2].gitDate+"";return{c(){e=h("p"),n=g("Version is "),l=g(C),o=v(),i=h("p"),r=g("Git hash is "),s=g(D),c=v(),a=h("p"),u=g("Git date is "),m=g(S),b=v(),$=h("p"),w=g("On\n        "),x=h("a"),_=g("Github"),y(x,"href",E=t[2].url),y(x,"target","_blank")},m(t,p){d(t,e,p),f(e,n),f(e,l),d(t,o,p),d(t,i,p),f(i,r),f(i,s),d(t,c,p),d(t,a,p),f(a,u),f(a,m),d(t,b,p),d(t,$,p),f($,w),f($,x),f(x,_)},p(t,e){4&e&&C!==(C=t[2].version+"")&&k(l,C),4&e&&D!==(D=t[2].gitHash+"")&&k(s,D),4&e&&S!==(S=t[2].gitDate+"")&&k(m,S),4&e&&E!==(E=t[2].url)&&y(x,"href",E)},d(t){t&&p(e),t&&p(o),t&&p(i),t&&p(c),t&&p(a),t&&p(b),t&&p($)}}}function no(e){let n;return{c(){n=g("Loading...")},m(t,e){d(t,n,e)},p:t,d(t){t&&p(n)}}}function lo(t){let e,n;return{c(){e=g("error is "),n=g(t[0])},m(t,l){d(t,e,l),d(t,n,l)},p(t,e){1&e&&k(n,t[0])},d(t){t&&p(e),t&&p(n)}}}function oo(e){let n,l;function o(t,e){return t[0]?lo:t[1]?no:eo}let i=o(e),r=i(e);return{c(){n=h("div"),l=h("div"),r.c(),y(l,"class","pl0 measure center"),y(n,"class","pa3 pa5-ns")},m(t,e){d(t,n,e),f(n,l),r.m(l,null)},p(t,[e]){i===(i=o(t))&&r?r.p(t,e):(r.d(1),r=i(t),r&&(r.c(),r.m(l,null)))},i:t,o:t,d(t){t&&p(n),r.d()}}}function io(t,e,n){let l,o,i;c(t,to,t=>n(2,i=t));const{loading:r,error:s}=to;return c(t,r,t=>n(1,o=t)),c(t,s,t=>n(0,l=t)),to.get(),[l,o,i,r,s]}let ro;St.subscribe(t=>{ro=t});function so(t){return!!ro.loggedIn||(St.redirectURLAfterLogin(t.location),!1)}let co={"/":class extends lt{constructor(t){super(),nt(this,t,Mt,zt,r,{})}},"/login":class extends lt{constructor(t){super(),nt(this,t,te,Zt,r,{})}},"/logout":mt(class extends lt{constructor(t){super(),nt(this,t,ne,ee,r,{})}},(function(){return St.logout(),!0})),"/create":mt(class extends lt{constructor(t){super(),nt(this,t,null,Ce,r,{})}},so),"/create/list":mt(class extends lt{constructor(t){super(),nt(this,t,xe,we,r,{})}},so),"/create/label":mt(class extends lt{constructor(t){super(),nt(this,t,Ee,_e,r,{})}},so),"/list/edit/:uuid":mt(class extends lt{constructor(t){super(),nt(this,t,Xl,Bl,r,{params:0})}},so),"/list/view/:uuid":mt(class extends lt{constructor(t){super(),nt(this,t,dn,fn,r,{params:2})}},so),"/list/deleted":mt(class extends lt{constructor(t){super(),nt(this,t,null,Wl,r,{})}},so),"/lists/by/me":mt(class extends lt{constructor(t){super(),nt(this,t,Re,Fe,r,{})}},so),"/settings/server_information":class extends lt{constructor(t){super(),nt(this,t,io,oo,r,{})}},"*":class extends lt{constructor(t){super(),nt(this,t,null,le,r,{})}}};function ao(e){let n,l;const o=new It({}),i=new xt({props:{routes:co}});return i.$on("conditionsFailed",uo),i.$on("routeLoaded",fo),{c(){Q(o.$$.fragment),n=v(),Q(i.$$.fragment)},m(t,e){Z(o,t,e),d(t,n,e),Z(i,t,e),l=!0},p:t,i(t){l||(G(o.$$.fragment,t),G(i.$$.fragment,t),l=!0)},o(t){V(o.$$.fragment,t),V(i.$$.fragment,t),l=!1},d(t){tt(o,t),t&&p(n),tt(i,t)}}}function uo(t){bt("/login")}function fo(t){rt.save(rt.keys["last.screen"],"#"+t.detail.location)}if(localStorage.hasOwnProperty(rt.keys["settings.install.defaults"])||(rt.clear(),window.location=location.origin+location.pathname),"chrome-extension:"===window.location.protocol){let t=rt.get(rt.keys["last.screen"]);console.log(t),t&&t!==window.location.hash&&(history.replaceState(void 0,void 0,t),window.dispatchEvent(new Event("hashchange")))}if("chrome-extension:"!==window.location.protocol){let t=rt.get(rt.keys["last.screen"]);t&&t!==window.location.hash&&(history.replaceState(void 0,void 0,location.origin+location.pathname+t),window.dispatchEvent(new Event("hashchange")))}var po=new class extends lt{constructor(t){super(),nt(this,t,null,ao,r,{})}}({target:document.querySelector("#list-info")});export default po;
